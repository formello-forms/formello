(()=>{"use strict";const e=window.wp.element,t=window.wp.coreData,l=window.wp.components,n=window.wp.i18n,r=window.wp.url,a=window.wp.data,m=window.wp.date;function o(t){const{data:r}=t,{formats:a}=(0,m.getSettings)();return(0,e.createElement)(l.Card,null,(0,e.createElement)(l.CardHeader,null,(0,e.createElement)("h2",null,(0,n.__)("Submission data","formello"))),(0,e.createElement)(l.CardBody,null,(0,e.createElement)("table",null,(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,n.__)("Submission ID","formello")),(0,e.createElement)("td",null,r.id)),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,n.__)("Form ID","formello")),(0,e.createElement)("td",null,r.form_id)),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,"Timestamp"),(0,e.createElement)("td",null,(0,m.dateI18n)(a.datetime,r.submitted_at))),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,"Referrer URL"),(0,e.createElement)("td",null,r.referer_url)),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,"IP"),(0,e.createElement)("td",null,r.ip_address)),(0,e.createElement)("tr",null,(0,e.createElement)("th",null,"User Agent"),(0,e.createElement)("td",null,r.user_agent))))))}function s(t){const{data:r}=t;return(0,e.createElement)(l.Card,null,(0,e.createElement)(l.CardHeader,null,(0,e.createElement)("h2",null,(0,n.__)("Fields","formello"))),(0,e.createElement)(l.CardBody,null,(0,e.createElement)("table",null,(0,e.createElement)("tbody",null,Object.keys(r.data).map(((t,l)=>(0,e.createElement)("tr",{key:l},(0,e.createElement)("th",null,t),(0,e.createElement)("td",null,(0,e.createElement)(e.RawHTML,null,r.data[t])))))))))}(0,a.dispatch)(t.store).addEntities([{label:(0,n.__)("Formello Submission","formello"),kind:"formello/v1",name:"submission",baseURL:"/formello/v1/submission"}]);const i=t=>(0,e.createElement)(l.Button,{variant:"secondary",icon:"arrow-left",href:t,isSmall:!0},(0,n.__)("Back to submissions list","formello")),d=()=>{const[a]=(0,e.useState)((0,r.getQueryArg)(window.location.href,"submission_id")),m=(0,t.useEntityRecord)("formello/v1","submission",a),d=(0,r.addQueryArgs)("edit.php",{post_type:"formello_form",page:"formello-submissions",form_id:(0,r.getQueryArg)(window.location.href,"form_id"),paged:(0,r.getQueryArg)(window.location.href,"paged")});return m.hasResolved?"ERROR"===m.status?(0,e.createElement)(l.Notice,{status:"warning",isDismissible:!1},(0,e.createElement)("p",null,(0,n.__)("Submission Not Found.","formello")),i(d)):(0,e.createElement)("div",{className:"wrap formello-submission"},(0,e.createElement)("div",{className:"masthead"},(0,e.createElement)("h1",{className:"wp-heading-inline"},(0,n.sprintf)(
/* Translators: %d The submission id. */
(0,n.__)("Submission %d","formello"),a)),i(d)),(0,e.createElement)("hr",null),(0,e.createElement)(l.__experimentalGrid,{columns:4,templateColumns:"3fr 1fr",gap:"4"},(0,e.createElement)("div",{className:"first-column"},(0,e.createElement)(s,{data:m.record,backUrl:d}),(0,e.createElement)("div",null,i(d))),(0,e.createElement)(o,{data:m.record}))):(0,e.createElement)(l.Spinner,null)};window.addEventListener("DOMContentLoaded",(()=>{(0,e.render)((0,e.createElement)(d,null),document.getElementById("formello-submission"))}))})();