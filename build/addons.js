(()=>{var e,t={269:(e,t,n)=>{var r={"./conditional-fields.png":510,"./exporter.png":47,"./file-upload.png":687,"./frontend-posting.png":811,"./getresponse.png":999,"./inserter.png":587,"./login.png":648,"./mailchimp.png":345,"./mailerlite.png":164,"./mailpoet.png":684,"./popper.png":107,"./sendinblue.png":551,"./web-hooks.png":507};function l(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}l.keys=function(){return Object.keys(r)},l.resolve=o,e.exports=l,l.id=269},396:(e,t,n)=>{"use strict";const r=window.wp.element,l=window.React;var o;function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=function(e){return l.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:341.333,height:341.333,viewBox:"0 0 256 256"},e),o||(o=l.createElement("path",{d:"M0 128v128h256V0H0v128zm145.6-66.6c2.9.7 7.8 2.8 11.1 4.5 6.7 3.6 18.3 14.6 16.8 16-2.6 2.3-31.9 23.1-32.6 23.1-.5 0-.9-.5-.9-1 0-.6-1.1-2.2-2.5-3.5-3-3.1-8.3-3.3-11.6-.6-2.2 1.8-2.4 2.7-2.7 14l-.4 12.1H136v37h-13v34H82v-44.8c0-35.5.3-46.1 1.5-51.7 3.9-18.6 18.2-34.2 35.6-38.9 6.9-1.9 19.9-2 26.5-.2z",fill:"#9b51e0"})))};function s(e){let{title:t}=e;return(0,r.createElement)("div",{className:"masthead"},(0,r.createElement)("div",{className:"inner-container"},(0,r.createElement)("div",{className:"masthead__branding"},(0,r.createElement)("h1",null,(0,r.createElement)(i,null),t))))}const p=window.wp.i18n,c=window.wp.components,d=window.wp.apiFetch;var u=n.n(d);function m(e){let{text:t}=e;return(0,r.createElement)("div",{className:"loading-settings"},(0,r.createElement)(c.Spinner,null),(0,r.createElement)("span",{className:"description"},t))}window.wp.url;const g=window.wp.data;function f(e){const{info:t,addons:l,handleAddonChange:o}=e,[a,i]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1),{isPopperInstalled:m,isPopperActive:f,popperInstallUrl:v}=(0,g.useSelect)((e=>{const t=e("core").getPlugin("popper/popper");return{isPopperInstalled:t,isPopperActive:"active"===(null==t?void 0:t.status),popperInstallUrl:null==t?void 0:t._links.self[0].href}})),h="popper"===t.slug?f:null==l?void 0:l.includes(t.slug);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Card,{className:"addon"},(0,r.createElement)(c.CardHeader,null,(0,r.createElement)("h2",null,t.title)),(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.CardMedia,{as:"aside"},(0,r.createElement)("img",{src:n(269)(`./${t.slug}.png`),alt:t.title})),(0,r.createElement)("p",null,t.excerpt)),(0,r.createElement)(c.CardFooter,null,"popper"===t.slug?(0,r.createElement)(c.Button,{onClick:async()=>{const e=f?"inactive":"active";d(!0),v?await u()({method:"PUT",url:v,data:{status:e}}):await u()({method:"POST",path:"wp/v2/plugins",data:{slug:"popper",status:"active"}}),d(!1),window.navigation.reload()},variant:"primary",isSmall:!0,isBusy:s,disabled:s||f,"aria-disabled":s||f},(0,p.sprintf)(
/* translators: %s: Popper plugin name */
m?(0,p.__)("Activate %s","formello"):(0,p.__)("Install %s","formello"),t.title)):(0,r.createElement)(c.ToggleControl,{checked:h,onChange:e=>(e=>{formello.can_use_premium_code?o(e,t.slug):i(!0)})(e),__nextHasNoMarginBottom:!0}))),a&&(0,r.createElement)(c.Modal,{title:(0,p.__)("Formello Pro"),shouldCloseOnClickOutside:!1,onRequestClose:()=>i(!1)},(0,r.createElement)("p",null,(0,p.sprintf)(
/* translators: %s: Popper plugin name */
(0,p.__)("To enable %s addon you need a free Formello license.","formello"),t.title)),(0,r.createElement)(c.Button,{variant:"primary",href:"https://formello.net",icon:"download",iconPosition:"right",target:"_blank"},(0,p.__)("Free download","formello-pro"))))}const v=window.wp.coreData;function h(){const e=[{name:"all",title:(0,p.__)("All","formello")},{name:"integrations",title:(0,p.__)("Integrations","formello")},{name:"utility",title:(0,p.__)("Utility","formello")},{name:"free",title:(0,p.__)("Free","formello")}],t=(0,g.useSelect)((e=>{const{getEntityRecord:t}=e(v.store),n=t("root","site");return null==n?void 0:n.formello})),[n,l]=(0,r.useState)([]),[o,a]=(0,r.useState)("all"),[i,d]=(0,r.useState)(Object.assign([],null==t?void 0:t.enabled_addons));(0,r.useEffect)((()=>{d(null==t?void 0:t.enabled_addons)}),[t]),(0,r.useEffect)((()=>{u()({path:"/formello/v1/addons/",method:"GET"}).then((e=>{l(e.response.products)}))}),[]);const{saveEntityRecord:h}=(0,g.useDispatch)(v.store),w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.filter((e=>!n.includes(e)))};function E(e,n){let r=[...t.enabled_addons];e?r.push(n):r=w(r,n),d(r),b(r)}const b=e=>{h("root","site",{formello:{...t,enabled_addons:e}})};return n?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s,{title:(0,p.__)("Addons","formello")}),(0,r.createElement)("div",{className:"setting-tabs"},(0,r.createElement)(c.TabPanel,{tabs:e,onSelect:e=>a(e),initialTabName:"all"},(()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.__experimentalGrid,{columns:3},n.filter((e=>(e=>"all"===o?n:e.info.category.some((e=>e.slug===o)))(e))).map((e=>(0,r.createElement)(f,{info:e.info,slug:e.slug,addons:i,handleAddonChange:E,key:e.info.id}))))))))):(0,r.createElement)(m,{text:(0,p.__)("Loading addons","formello")})}window.addEventListener("DOMContentLoaded",(()=>{(0,r.render)((0,r.createElement)(h,null),document.getElementById("formello-plugin-settings"))}))},510:(e,t,n)=>{"use strict";e.exports=n.p+"images/conditional-fields.7d7e653a.png"},47:(e,t,n)=>{"use strict";e.exports=n.p+"images/exporter.666fee83.png"},687:(e,t,n)=>{"use strict";e.exports=n.p+"images/file-upload.91b58ae6.png"},811:(e,t,n)=>{"use strict";e.exports=n.p+"images/frontend-posting.2165e998.png"},999:(e,t,n)=>{"use strict";e.exports=n.p+"images/getresponse.d51c0d3c.png"},587:(e,t,n)=>{"use strict";e.exports=n.p+"images/inserter.373d5310.png"},648:(e,t,n)=>{"use strict";e.exports=n.p+"images/login.5a33fb2f.png"},345:(e,t,n)=>{"use strict";e.exports=n.p+"images/mailchimp.fc0cc410.png"},164:(e,t,n)=>{"use strict";e.exports=n.p+"images/mailerlite.d580682c.png"},684:(e,t,n)=>{"use strict";e.exports=n.p+"images/mailpoet.62a9acfa.png"},107:(e,t,n)=>{"use strict";e.exports=n.p+"images/popper.cee57018.png"},551:(e,t,n)=>{"use strict";e.exports=n.p+"images/sendinblue.08d7106f.png"},507:(e,t,n)=>{"use strict";e.exports=n.p+"images/web-hooks.2165e998.png"}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,l,o)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,l,o]=e[c],i=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(i=!1,o<a&&(a=o));if(i){e.splice(c--,1);var p=l();void 0!==p&&(t=p)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,l,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={154:0,679:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[a,i,s]=n,p=0;if(a.some((t=>0!==e[t]))){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(s)var c=s(r)}for(t&&t(n);p<a.length;p++)o=a[p],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},n=globalThis.webpackChunkformello=globalThis.webpackChunkformello||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=r.O(void 0,[679],(()=>r(396)));l=r.O(l)})();