!function(){var e,t,n,r={269:function(e,t,n){var r={"./autosuggest.png":934,"./calculator.png":549,"./conditional-fields.png":510,"./convertkit.png":943,"./exporter.png":47,"./file-upload.png":687,"./frontend-posting.png":811,"./getresponse.png":999,"./inserter.png":587,"./login.png":648,"./mailchimp.png":345,"./mailerlite.png":164,"./mailpoet.png":684,"./moosend.png":589,"./popper.png":107,"./sendinblue.png":551,"./templates.png":897,"./web-hooks.png":507};function a(e){var t=l(e);return n(t)}function l(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=l,e.exports=a,a.id=269},308:function(e,t,n){"use strict";var r=n(196),a=n.t(r,2),l=window.wp.element,o=window.wp.data,i=window.wp.i18n,s=window.wp.components,c=window.wp.coreData,u=window.wp.htmlEntities,d=window.wp.date,m=window.wp.url,f=window.wp.notices,p=window.wp.primitives,v=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),g=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"}));(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}));const h={id:"move-to-trash",label:(0,i.__)("Move to Trash"),isPrimary:!0,isBulk:!0,icon:v,isEligible({status:e}){return"trash"!==e},hideModalHeader:!0,RenderModal:({items:e,closeModal:t})=>{const{createSuccessNotice:n,createErrorNotice:a}=(0,o.useDispatch)(f.store),{deleteEntityRecord:l}=(0,o.useDispatch)(c.store);return(0,r.createElement)(s.__experimentalVStack,{spacing:"5"},(0,r.createElement)(s.__experimentalText,null,e.length>1?(0,i.sprintf)(
// translators: %s: The number of posts (always plural).
(0,i.__)("Are you sure you want to delete %s posts?"),(0,u.decodeEntities)(e.length)):(0,i.sprintf)(
// translators: %s: The page's title.
(0,i.__)('Are you sure you want to delete "%s"?'),(0,u.decodeEntities)(e&&e[0]?.title?.rendered))),(0,r.createElement)(s.__experimentalHStack,{justify:"right"},(0,r.createElement)(s.Button,{variant:"tertiary",onClick:t},(0,i.__)("Cancel")),(0,r.createElement)(s.Button,{variant:"primary",onClick:async()=>{try{await Promise.all(e.map((async e=>{l("postType",e.type,e.id,{},{throwOnError:!0})}))),n(e.length>1?(0,i.__)("The selected posts were moved to the trash."):(0,i.sprintf)(/* translators: The page's title. */
(0,i.__)('"%s" moved to the Trash.'),(0,u.decodeEntities)(e[0].title.rendered)),{type:"snackbar",id:"edit-site-page-trashed"})}catch(t){const n=t.message&&"unknown_error"!==t.code?t.message:(0,i._n)("An error occurred while moving the page to the trash.","An error occurred while moving the pages to the trash.",e.length);a(n,{type:"snackbar"})}}},(0,i.__)("Delete"))))}};(0,i.__)("View"),(0,i.__)("View revisions"),(0,i.__)("Delete form","tropical-juice");var E,w=(0,r.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"}));function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(E||(E={}));var _="beforeunload";function b(e){e.preventDefault(),e.returnValue=""}function C(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}const S=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,l=e.hash,o=r.state||{};return[o.idx,{pathname:t,search:a,hash:l,state:o.usr||null,key:o.key||"default"}]}var l=null;n.addEventListener("popstate",(function(){if(l)d.call(l),l=null;else{var e=E.Pop,t=a(),n=t[0],r=t[1];if(d.length){if(null!=n){var o=s-n;o&&(l={action:e,location:r,retry:function(){h(-1*o)}},h(o))}}else g(e)}}));var o=E.Pop,i=a(),s=i[0],c=i[1],u=C(),d=C();function m(e){return"string"==typeof e?e:(n=(t=e).pathname,r=void 0===n?"/":n,a=t.search,l=void 0===a?"":a,o=t.hash,i=void 0===o?"":o,l&&"?"!==l&&(r+="?"===l.charAt(0)?l:"?"+l),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r);var t,n,r,a,l,o,i}function f(e,t){return void 0===t&&(t=null),y({pathname:c.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function p(e,t){return[{usr:e.state,key:e.key,idx:t},m(e)]}function v(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function g(e){o=e;var t=a();s=t[0],c=t[1],u.call({action:o,location:c})}function h(e){r.go(e)}return null==s&&(s=0,r.replaceState(y({},r.state,{idx:s}),"")),{get action(){return o},get location(){return c},createHref:m,push:function e(t,a){var l=E.Push,o=f(t,a);if(v(l,o,(function(){e(t,a)}))){var i=p(o,s+1),c=i[0],u=i[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}g(l)}},replace:function e(t,n){var a=E.Replace,l=f(t,n);if(v(a,l,(function(){e(t,n)}))){var o=p(l,s),i=o[0],c=o[1];r.replaceState(i,"",c),g(a)}},go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(e){return u.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(_,b),function(){t(),d.length||n.removeEventListener(_,b)}}}}(),x=S.push,k=S.replace;S.push=function(e,t){const n=(0,m.getQueryArgs)(window.location.href),r=(0,m.removeQueryArgs)(window.location.href,...Object.keys(n)),a=(0,m.addQueryArgs)(r,e);return x.call(S,a,t)},S.replace=function(e,t){const n=(0,m.getQueryArgs)(window.location.href),r=(0,m.removeQueryArgs)(window.location.href,...Object.keys(n)),a=(0,m.addQueryArgs)(r,e);return k.call(S,a,t)};var I=S;const O=(0,l.createContext)(),V=(0,l.createContext)();function P(){return(0,l.useContext)(O)}function M(){return(0,l.useContext)(V)}function A(e){const t=new URLSearchParams(e.search);return{...e,params:Object.fromEntries(t.entries())}}function N({children:e}){const[t,n]=(0,l.useState)((()=>A(I.location)));return(0,l.useEffect)((()=>I.listen((({location:e})=>{n(A(e))}))),[]),(0,r.createElement)(V.Provider,{value:I},(0,r.createElement)(O.Provider,{value:t},e))}var F=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),L=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),R=(0,l.memo)((function({view:e,onChangeView:t,paginationInfo:{totalItems:n=0,totalPages:a}}){return n&&a?!!n&&1!==a&&(0,r.createElement)(s.__experimentalHStack,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination"},(0,r.createElement)(s.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection"},(0,l.createInterpolateElement)((0,i.sprintf)(
// translators: %s: Total number of pages.
(0,i._x)("Page <CurrenPageControl /> of %s","paging"),a),{CurrenPageControl:(0,r.createElement)(s.SelectControl,{"aria-label":(0,i.__)("Current page"),value:e.page,options:Array.from(Array(a)).map(((e,t)=>{const n=t+1;return{value:n,label:n}})),onChange:n=>{t({...e,page:+n})},size:"compact",__nextHasNoMarginBottom:!0})})),(0,r.createElement)(s.__experimentalHStack,{expanded:!1,spacing:1},(0,r.createElement)(s.Button,{onClick:()=>t({...e,page:e.page-1}),disabled:1===e.page,__experimentalIsFocusable:!0,label:(0,i.__)("Previous page"),icon:F,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,r.createElement)(s.Button,{onClick:()=>t({...e,page:e.page+1}),disabled:e.page>=a,__experimentalIsFocusable:!0,label:(0,i.__)("Next page"),icon:L,showTooltip:!0,size:"compact",tooltipPosition:"top"}))):null})),T=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,r.createElement)(p.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})),D=window.wp.privateApis;const{lock:B,unlock:H}=(0,D.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/dataviews");var j=(0,r.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),z=(0,r.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(p.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),K=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),U=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),W=n(184),G=n.n(W),q=window.wp.compose,$=(0,r.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(p.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})),Q=(0,r.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(p.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"}));function Z({selection:e,onSelectionChange:t,item:n,data:a,getItemId:l,primaryField:o,disabled:c}){const u=l(n),d=e.includes(u);let m;return m=o?.getValue&&n?(0,i.sprintf)(/* translators: %s: item title. */
d?(0,i.__)("Deselect item: %s"):(0,i.__)("Select item: %s"),o.getValue({item:n})):d?(0,i.__)("Select a new item"):(0,i.__)("Deselect item"),(0,r.createElement)(s.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,label:m,"aria-disabled":c,checked:d,onChange:()=>{c||t(d?a.filter((t=>{const n=l?.(t);return n!==u&&e.includes(n)})):a.filter((t=>{const n=l?.(t);return n===u||e.includes(n)})))}})}var Y=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));const{DropdownMenuV2:X,DropdownMenuGroupV2:J,DropdownMenuItemV2:ee,DropdownMenuItemLabelV2:te,kebabCase:ne}=H(s.privateApis);function re({action:e,onClick:t}){return(0,r.createElement)(s.Button,{label:e.label,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t})}function ae({action:e,onClick:t}){return(0,r.createElement)(ee,{onClick:t,hideOnClick:!e.RenderModal},(0,r.createElement)(te,null,e.label))}function le({action:e,item:t,ActionTrigger:n}){const[a,o]=(0,l.useState)(!1),i={action:e,onClick:()=>o(!0)},{RenderModal:c,hideModalHeader:u}=e;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(n,{...i}),a&&(0,r.createElement)(s.Modal,{title:e.modalHeader||e.label,__experimentalHideHeader:!!u,onRequestClose:()=>{o(!1)},overlayClassName:`dataviews-action-modal dataviews-action-modal__${ne(e.id)}`},(0,r.createElement)(c,{items:[t],closeModal:()=>o(!1)})))}function oe({actions:e,item:t}){return(0,r.createElement)(J,null,e.map((e=>e.RenderModal?(0,r.createElement)(le,{key:e.id,action:e,item:t,ActionTrigger:ae}):(0,r.createElement)(ae,{key:e.id,action:e,onClick:()=>e.callback([t])}))))}function ie({item:e,actions:t,isCompact:n}){const{primaryActions:a,secondaryActions:o}=(0,l.useMemo)((()=>t.reduce(((t,n)=>(n.isEligible&&!n.isEligible(e)||(n.isPrimary&&n.icon?t.primaryActions.push(n):t.secondaryActions.push(n)),t)),{primaryActions:[],secondaryActions:[]})),[t,e]);return n?(0,r.createElement)(se,{item:e,primaryActions:a,secondaryActions:o}):(0,r.createElement)(s.__experimentalHStack,{spacing:1,justify:"flex-end",style:{flexShrink:"0",width:"auto"}},!!a.length&&a.map((t=>t.RenderModal?(0,r.createElement)(le,{key:t.id,action:t,item:e,ActionTrigger:re}):(0,r.createElement)(re,{key:t.id,action:t,onClick:()=>t.callback([e])}))),(0,r.createElement)(X,{trigger:(0,r.createElement)(s.Button,{size:"compact",icon:Y,label:(0,i.__)("Actions"),disabled:!o.length}),placement:"bottom-end"},(0,r.createElement)(oe,{actions:o,item:e})))}function se({item:e,primaryActions:t,secondaryActions:n}){return(0,r.createElement)(X,{trigger:(0,r.createElement)(s.Button,{size:"compact",icon:Y,label:(0,i.__)("Actions"),disabled:!t.length&&!n.length}),placement:"bottom-end"},!!t.length&&(0,r.createElement)(oe,{actions:t,item:e}),!!n.length&&(0,r.createElement)(oe,{actions:n,item:e}))}const ce=e=>{let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=Object.keys(Re)),t.filter((e=>Object.keys(Re).includes(e)))},{DropdownMenuV2:ue,DropdownMenuGroupV2:de,DropdownMenuItemV2:me,DropdownMenuSeparatorV2:fe}=H(s.privateApis);function pe(e,t){return(0,l.useMemo)((()=>e.some((e=>e.supportsBulk&&e.isEligible(t)))),[e,t])}function ve({action:e,selectedItems:t,setActionWithModal:n,onMenuOpenChange:a}){const o=(0,l.useMemo)((()=>t.filter((t=>e.isEligible(t)))),[e,t]),{RenderModal:i,hideModalHeader:c}=e,u=(0,l.useCallback)((()=>{n(void 0)}),[n]);return(0,r.createElement)(s.Modal,{title:!c&&e.label,__experimentalHideHeader:!!c,onRequestClose:u,overlayClassName:"dataviews-action-modal"},(0,r.createElement)(i,{items:o,closeModal:u,onPerform:()=>a(!1)}))}function ge({action:e,selectedItems:t,setActionWithModal:n}){const a=(0,l.useMemo)((()=>t.filter((t=>e.isEligible(t)))),[e,t]),o=!!e.RenderModal;return(0,r.createElement)(me,{key:e.id,disabled:0===a.length,hideOnClick:!o,onClick:async()=>{o?n(e):await e.callback(a)},suffix:a.length>0?a.length:void 0},e.label)}function he({actions:e,selectedItems:t,setActionWithModal:n}){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(de,null,e.map((e=>(0,r.createElement)(ge,{key:e.id,action:e,selectedItems:t,setActionWithModal:n})))),(0,r.createElement)(fe,null))}function Ee({data:e,actions:t,selection:n,onSelectionChange:a,getItemId:o}){const c=(0,l.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),[u,d]=(0,l.useState)(!1),[m,f]=(0,l.useState)(),p=(0,l.useMemo)((()=>e.filter((e=>c.some((t=>t.isEligible(e)))))),[e,c]),v=p.length,g=n&&n.length===v,h=(0,l.useMemo)((()=>e.filter((e=>n.includes(o(e))))),[n,e,o]),E=(0,l.useMemo)((()=>h.some((e=>!p.includes(e)))),[h,p]);return(0,l.useEffect)((()=>{E&&a(h.filter((e=>p.some((t=>o(e)===o(t))))))}),[E,h,p,o,a]),0===c.length?null:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ue,{open:u,onOpenChange:d,label:(0,i.__)("Bulk actions"),style:{minWidth:"240px"},trigger:(0,r.createElement)(s.Button,{className:"dataviews-bulk-edit-button",__next40pxDefaultSize:!0,variant:"tertiary",size:"compact"},n.length?(0,i.sprintf)(/* translators: %d: Number of items. */
(0,i._n)("Edit %d item","Edit %d items",n.length),n.length):(0,i.__)("Bulk edit"))},(0,r.createElement)(he,{actions:c,setActionWithModal:f,selectedItems:h}),(0,r.createElement)(de,null,(0,r.createElement)(me,{disabled:g,hideOnClick:!1,onClick:()=>{a(p)},suffix:v},(0,i.__)("Select all")),(0,r.createElement)(me,{disabled:0===n.length,hideOnClick:!1,onClick:()=>{a([])}},(0,i.__)("Deselect")))),m&&(0,r.createElement)(ve,{action:m,selectedItems:h,setActionWithModal:f,onMenuOpenChange:d}))}const{DropdownMenuV2:we,DropdownMenuGroupV2:ye,DropdownMenuItemV2:_e,DropdownMenuRadioItemV2:be,DropdownMenuItemLabelV2:Ce,DropdownMenuSeparatorV2:Se}=H(s.privateApis);function xe({children:e}){return l.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,r.createElement)(l.Fragment,{key:t},t>0&&(0,r.createElement)(Se,null),e)))}const ke={asc:"↑",desc:"↓"},Ie=(0,l.forwardRef)((function({field:e,view:t,onChangeView:n,onHide:a,setOpenedFilter:l},o){const c=!1!==e.enableHiding,u=!1!==e.enableSorting,d=t.sort?.field===e.id,m=ce(e),f=!t.filters?.some((t=>e.id===t.field))&&e.type===Ne&&!!m.length&&!e.filterBy?.isPrimary;return u||c||f?(0,r.createElement)(we,{align:"start",trigger:(0,r.createElement)(s.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:o,variant:"tertiary"},e.header,d&&(0,r.createElement)("span",{"aria-hidden":"true"},d&&ke[t.sort.direction])),style:{minWidth:"240px"}},(0,r.createElement)(xe,null,u&&(0,r.createElement)(ye,null,Object.entries(Te).map((([a,l])=>{const o=d&&t.sort.direction===a,i=`${e.id}-${a}`;return(0,r.createElement)(be,{key:i,name:"view-table-sorting",value:i,checked:o,onChange:()=>{n({...t,sort:{field:e.id,direction:a}})}},(0,r.createElement)(Ce,null,l.label))}))),f&&(0,r.createElement)(ye,null,(0,r.createElement)(_e,{prefix:(0,r.createElement)(s.Icon,{icon:$}),onClick:()=>{l(e.id),n({...t,page:1,filters:[...t.filters||[],{field:e.id,value:void 0,operator:m[0]}]})}},(0,r.createElement)(Ce,null,(0,i.__)("Add filter")))),c&&(0,r.createElement)(_e,{prefix:(0,r.createElement)(s.Icon,{icon:Q}),onClick:()=>{a(e),n({...t,hiddenFields:t.hiddenFields.concat(e.id)})}},(0,r.createElement)(Ce,null,(0,i.__)("Hide"))))):e.header}));function Oe({selection:e,onSelectionChange:t,data:n,actions:a}){const o=(0,l.useMemo)((()=>n.filter((e=>a.some((t=>t.supportsBulk&&t.isEligible(e)))))),[n,a]),c=e.length===o.length;return(0,r.createElement)(s.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:c,indeterminate:!c&&e.length,onChange:()=>{t(c?[]:o)},label:c?(0,i.__)("Deselect all"):(0,i.__)("Select all")})}function Ve({hasBulkActions:e,item:t,actions:n,id:a,visibleFields:l,primaryField:o,selection:i,getItemId:s,onSelectionChange:c,data:u}){const d=pe(n,t);return(0,r.createElement)("tr",{className:G()("dataviews-view-table__row",{"is-selected":d&&i.includes(a)})},e&&(0,r.createElement)("td",{className:"dataviews-view-table__checkbox-column",style:{width:20,minWidth:20}},(0,r.createElement)("div",{className:"dataviews-view-table__cell-content-wrapper"},(0,r.createElement)(Z,{id:a,item:t,selection:i,onSelectionChange:c,getItemId:s,data:u,primaryField:o,disabled:!d}))),l.map((e=>(0,r.createElement)("td",{key:e.id,style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0}},(0,r.createElement)("div",{className:G()("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":o?.id===e.id})},e.render({item:t}))))),!!n?.length&&(0,r.createElement)("td",{className:"dataviews-view-table__actions-column"},(0,r.createElement)(ie,{item:t,actions:n})))}function Pe({selection:e,data:t,onSelectionChange:n,getItemId:a,item:l,actions:o,mediaField:i,primaryField:c,visibleFields:u}){const d=pe(o,l),m=a(l),f=e.includes(m);return(0,r.createElement)(s.__experimentalVStack,{spacing:0,key:m,className:G()("dataviews-view-grid__card",{"is-selected":d&&f}),onClickCapture:r=>{d&&(r.ctrlKey||r.metaKey)&&(r.stopPropagation(),r.preventDefault(),n(f?t.filter((t=>{const n=a?.(t);return n!==m&&e.includes(n)})):t.filter((t=>{const n=a?.(t);return n===m||e.includes(n)}))))}},(0,r.createElement)("div",{className:"dataviews-view-grid__media"},i?.render({item:l})),(0,r.createElement)(s.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions"},(0,r.createElement)(Z,{id:m,item:l,selection:e,onSelectionChange:n,getItemId:a,data:t,primaryField:c,disabled:!d}),(0,r.createElement)(s.__experimentalHStack,{className:"dataviews-view-grid__primary-field"},c?.render({item:l})),(0,r.createElement)(ie,{item:l,actions:o,isCompact:!0})),(0,r.createElement)(s.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:3},u.map((e=>{const t=e.render({item:l});return t?(0,r.createElement)(s.__experimentalVStack,{className:"dataviews-view-grid__field",key:e.id,spacing:1},(0,r.createElement)(s.Tooltip,{text:e.header,placement:"left"},(0,r.createElement)("div",{className:"dataviews-view-grid__field-value"},t))):null}))))}var Me=window.wp.keycodes,Ae=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));const Ne="enumeration",Fe="in",Le="notIn",Re={[Fe]:{key:"in-filter",label:(0,i.__)("Is")},[Le]:{key:"not-in-filter",label:(0,i.__)("Is not")}},Te={asc:{label:(0,i.__)("Sort ascending")},desc:{label:(0,i.__)("Sort descending")}},De="table",Be="grid",He=[{type:De,label:(0,i.__)("Table"),component:function({view:e,onChangeView:t,fields:n,actions:a,data:o,getItemId:c,isLoading:u=!1,deferredRendering:d,selection:m,onSelectionChange:f,setOpenedFilter:p}){const v=(0,l.useRef)(new Map),g=(0,l.useRef)(),[h,E]=(0,l.useState)(),w=function(e,t){return(0,l.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&e.isEligible(t)))))),[e,t])}(a,o);(0,l.useEffect)((()=>{g.current&&(g.current.focus(),g.current=void 0)}));const y=(0,q.useAsyncList)(o),_=(0,l.useId)();if(h)return g.current=h,void E();const b=e=>{const t=v.current.get(e.id),n=v.current.get(t.fallback);E(n?.node)},C=n.filter((t=>!e.hiddenFields.includes(t.id)&&![e.layout.mediaField].includes(t.id))),S=d?y:o,x=!!S?.length,k={asc:"ascending",desc:"descending"},I=n.find((t=>t.id===e.layout.primaryField));return(0,r.createElement)(l.Fragment,null,(0,r.createElement)("table",{className:"dataviews-view-table","aria-busy":u,"aria-describedby":_},(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"dataviews-view-table__row"},w&&(0,r.createElement)("th",{className:"dataviews-view-table__checkbox-column",style:{width:20,minWidth:20},"data-field-id":"selection",scope:"col"},(0,r.createElement)(Oe,{selection:m,onSelectionChange:f,data:o,actions:a})),C.map(((n,a)=>(0,r.createElement)("th",{key:n.id,style:{width:n.width||void 0,minWidth:n.minWidth||void 0,maxWidth:n.maxWidth||void 0},"data-field-id":n.id,"aria-sort":e.sort?.field===n.id&&k[e.sort.direction],scope:"col"},(0,r.createElement)(Ie,{ref:e=>{e?v.current.set(n.id,{node:e,fallback:C[a>0?a-1:1]?.id}):v.current.delete(n.id)},field:n,view:e,onChangeView:t,onHide:b,setOpenedFilter:p})))),!!a?.length&&(0,r.createElement)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column"},(0,r.createElement)("span",{className:"dataviews-view-table-header"},(0,i.__)("Actions"))))),(0,r.createElement)("tbody",null,x&&S.map(((e,t)=>(0,r.createElement)(Ve,{key:c(e),item:e,hasBulkActions:w,actions:a,id:c(e)||t,visibleFields:C,primaryField:I,selection:m,getItemId:c,onSelectionChange:f,data:o}))))),(0,r.createElement)("div",{className:G()({"dataviews-loading":u,"dataviews-no-results":!x&&!u}),id:_},!x&&(0,r.createElement)("p",null,u?(0,r.createElement)(s.Spinner,null):(0,i.__)("No results"))))},icon:j},{type:Be,label:(0,i.__)("Grid"),component:function({data:e,fields:t,view:n,actions:a,isLoading:l,getItemId:o,deferredRendering:c,selection:u,onSelectionChange:d}){const m=t.find((e=>e.id===n.layout.mediaField)),f=t.find((e=>e.id===n.layout.primaryField)),p=t.filter((e=>!n.hiddenFields.includes(e.id)&&![n.layout.mediaField,n.layout.primaryField].includes(e.id))),v=(0,q.useAsyncList)(e,{step:3}),g=c?v:e,h=!!g?.length;return(0,r.createElement)(r.Fragment,null,h&&(0,r.createElement)(s.__experimentalGrid,{gap:6,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":l},g.map((t=>(0,r.createElement)(Pe,{key:o(t),selection:u,data:e,onSelectionChange:d,getItemId:o,item:t,actions:a,mediaField:m,primaryField:f,visibleFields:p})))),!h&&(0,r.createElement)("div",{className:G()({"dataviews-loading":l,"dataviews-no-results":!l})},(0,r.createElement)("p",null,l?(0,r.createElement)(s.Spinner,null):(0,i.__)("No results"))))},icon:z},{type:"list",label:(0,i.__)("List"),component:function({view:e,fields:t,data:n,isLoading:a,getItemId:l,onSelectionChange:o,onDetailsChange:c,selection:u,deferredRendering:d}){const m=(0,q.useAsyncList)(n,{step:3}),f=d?m:n,p=t.find((t=>t.id===e.layout.mediaField)),v=t.find((t=>t.id===e.layout.primaryField)),g=t.filter((t=>!e.hiddenFields.includes(t.id)&&![e.layout.primaryField,e.layout.mediaField].includes(t.id))),h=e=>t=>{const{keyCode:n}=t;[Me.ENTER,Me.SPACE].includes(n)&&o([e])},E=f?.length;return E?(0,r.createElement)("ul",{className:"dataviews-view-list"},f.map((e=>(0,r.createElement)("li",{key:l(e),className:G()({"is-selected":u.includes(e.id)})},(0,r.createElement)(s.__experimentalHStack,{className:"dataviews-view-list__item-wrapper"},(0,r.createElement)("div",{role:"button",tabIndex:0,"aria-pressed":u.includes(e.id),onKeyDown:h(e),className:"dataviews-view-list__item",onClick:()=>o([e])},(0,r.createElement)(s.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start"},(0,r.createElement)("div",{className:"dataviews-view-list__media-wrapper"},p?.render({item:e})||(0,r.createElement)("div",{className:"dataviews-view-list__media-placeholder"})),(0,r.createElement)(s.__experimentalVStack,{spacing:1},(0,r.createElement)("span",{className:"dataviews-view-list__primary-field"},v?.render({item:e})),(0,r.createElement)("div",{className:"dataviews-view-list__fields"},g.map((t=>(0,r.createElement)("span",{key:t.id,className:"dataviews-view-list__field"},t.render({item:e})))))))),c&&(0,r.createElement)(s.Button,{className:"dataviews-view-list__details-button",onClick:()=>c([e]),icon:Ae,label:(0,i.__)("View details"),size:"compact"})))))):(0,r.createElement)("div",{className:G()({"dataviews-loading":a,"dataviews-no-results":!E&&!a})},!E&&(0,r.createElement)("p",null,a?(0,r.createElement)(s.Spinner,null):(0,i.__)("No results")))},icon:(0,i.isRTL)()?K:U}],{DropdownMenuV2:je,DropdownMenuGroupV2:ze,DropdownMenuItemV2:Ke,DropdownMenuRadioItemV2:Ue,DropdownMenuCheckboxItemV2:We,DropdownMenuItemLabelV2:Ge}=H(s.privateApis);function qe({view:e,onChangeView:t,supportedLayouts:n}){let a=He;if(n&&(a=a.filter((e=>n.includes(e.type)))),1===a.length)return null;const l=a.find((t=>e.type===t.type));return(0,r.createElement)(je,{trigger:(0,r.createElement)(Ke,{suffix:(0,r.createElement)("span",{"aria-hidden":"true"},l.label)},(0,r.createElement)(Ge,null,(0,i.__)("Layout")))},a.map((n=>(0,r.createElement)(Ue,{key:n.type,value:n.type,name:"view-actions-available-view",checked:n.type===e.type,hideOnClick:!0,onChange:n=>{t({...e,type:n.target.value})}},(0,r.createElement)(Ge,null,n.label)))))}const $e=[10,20,50,100];function Qe({view:e,onChangeView:t}){return(0,r.createElement)(je,{trigger:(0,r.createElement)(Ke,{suffix:(0,r.createElement)("span",{"aria-hidden":"true"},e.perPage)},(0,r.createElement)(Ge,null,(0,i.__)("Items per page")))},$e.map((n=>(0,r.createElement)(Ue,{key:n,value:n,name:"view-actions-page-size",checked:e.perPage===n,onChange:()=>{t({...e,perPage:n,page:1})}},(0,r.createElement)(Ge,null,n)))))}function Ze({view:e,onChangeView:t,fields:n}){const a=n.filter((t=>!1!==t.enableHiding&&t.id!==e.layout.mediaField));return a?.length?(0,r.createElement)(je,{trigger:(0,r.createElement)(Ke,null,(0,r.createElement)(Ge,null,(0,i.__)("Fields")))},a?.map((n=>(0,r.createElement)(We,{key:n.id,value:n.id,checked:!e.hiddenFields?.includes(n.id),onChange:()=>{t({...e,hiddenFields:e.hiddenFields?.includes(n.id)?e.hiddenFields.filter((e=>e!==n.id)):[...e.hiddenFields||[],n.id]})}},(0,r.createElement)(Ge,null,n.header))))):null}function Ye({fields:e,view:t,onChangeView:n}){const a=e.filter((e=>!1!==e.enableSorting));if(!a?.length)return null;const l=e.find((e=>e.id===t.sort?.field));return(0,r.createElement)(je,{trigger:(0,r.createElement)(Ke,{suffix:(0,r.createElement)("span",{"aria-hidden":"true"},l?.header)},(0,r.createElement)(Ge,null,(0,i.__)("Sort by")))},a?.map((e=>{const a=t.sort?.direction;return(0,r.createElement)(je,{key:e.id,trigger:(0,r.createElement)(Ke,null,(0,r.createElement)(Ge,null,e.header)),style:{minWidth:"220px"}},Object.entries(Te).map((([o,i])=>{const s=void 0!==l&&a===o&&e.id===l.id,c=`${e.id}-${o}`;return(0,r.createElement)(Ue,{key:c,name:"view-actions-sorting",value:c,checked:s,onChange:()=>{n({...t,sort:{field:e.id,direction:o}})}},(0,r.createElement)(Ge,null,i.label))})))})))}var Xe=(0,l.memo)((function({fields:e,view:t,onChangeView:n,supportedLayouts:a}){return(0,r.createElement)(je,{trigger:(0,r.createElement)(s.Button,{size:"compact",icon:T,label:(0,i.__)("View options")})},(0,r.createElement)(ze,null,(0,r.createElement)(qe,{view:t,onChangeView:n,supportedLayouts:a}),(0,r.createElement)(Ye,{fields:e,view:t,onChangeView:n}),(0,r.createElement)(Ze,{fields:e,view:t,onChangeView:n}),(0,r.createElement)(Qe,{view:t,onChangeView:n})))})),Je=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),et={id:null};function tt(e,t){return t&&e.item(t)||null}var nt=Symbol("FOCUS_SILENTLY");function rt(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}var at=Object.defineProperty,lt=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,ut=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dt=(e,t)=>{for(var n in t||(t={}))st.call(t,n)&&ut(e,n,t[n]);if(it)for(var n of it(t))ct.call(t,n)&&ut(e,n,t[n]);return e},mt=(e,t)=>lt(e,ot(t)),ft=(e,t)=>{var n={};for(var r in e)st.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&it)for(var r of it(e))t.indexOf(r)<0&&ct.call(e,r)&&(n[r]=e[r]);return n},pt=Object.defineProperty,vt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,yt=(e,t,n)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_t=(e,t)=>{for(var n in t||(t={}))Et.call(t,n)&&yt(e,n,t[n]);if(ht)for(var n of ht(t))wt.call(t,n)&&yt(e,n,t[n]);return e},bt=(e,t)=>vt(e,gt(t)),Ct=(e,t)=>{var n={};for(var r in e)Et.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ht)for(var r of ht(e))t.indexOf(r)<0&&wt.call(e,r)&&(n[r]=e[r]);return n};function St(...e){}function xt(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function kt(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function It(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ot(e){return e}function Vt(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function Pt(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function Mt(...e){for(const t of e)if(void 0!==t)return t}var At,Nt="undefined"!=typeof window&&!!(null==(At=window.document)?void 0:At.createElement);function Ft(e){return e?e.ownerDocument||e:document}function Lt(e,t=!1){const{activeElement:n}=Ft(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return Lt(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Ft(n).getElementById(e);if(t)return t}}return n}function Rt(e,t){return e===t||e.contains(t)}function Tt(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==Dt.indexOf(e.type)}var Dt=["button","color","file","image","reset","submit"];function Bt(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function Ht(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function jt(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function zt(e,t){var n;const r=jt(e);return r&&null!=(n={menu:"menuitem",listbox:"option",tree:"treeitem",grid:"gridcell"}[r])?n:t}function Kt(e){if(!e)return null;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}return Kt(e.parentElement)||document.scrollingElement||document.body}function Ut(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function Wt(){return!!Nt&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function Gt(){return Nt&&Wt()&&/apple/i.test(navigator.vendor)}function qt(e){return Boolean(e.currentTarget&&!Rt(e.currentTarget,e.target))}function $t(e){return e.target===e.currentTarget}function Qt(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),a=bt(_t({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",a)),r}function Zt(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function Yt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Rt(n,r)}function Xt(e,t,n){const r=requestAnimationFrame((()=>{e.removeEventListener(t,a,!0),n()})),a=()=>{cancelAnimationFrame(r),n()};return e.addEventListener(t,a,{once:!0,capture:!0}),r}function Jt(e,t,n,r=window){const a=[];try{r.document.addEventListener(e,t,n);for(const l of Array.from(r.frames))a.push(Jt(e,t,n,l))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}a.forEach((e=>e()))}}var en=dt({},a),tn=en.useId,nn=(en.useDeferredValue,en.useInsertionEffect),rn=Nt?r.useLayoutEffect:r.useEffect;function an(e){const t=(0,r.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return nn?nn((()=>{t.current=e})):t.current=e,(0,r.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function ln(...e){return(0,r.useMemo)((()=>{if(e.some(Boolean))return t=>{e.forEach((e=>function(e,t){"function"==typeof e?e(t):e&&(e.current=t)}(e,t)))}}),e)}function on(e){if(tn){const t=tn();return e||t}const[t,n]=(0,r.useState)(e);return rn((()=>{if(e||t)return;const r=Math.random().toString(36).substr(2,6);n(`id-${r}`)}),[e,t]),e||t}function sn(e,t){const n=e=>{if("string"==typeof e)return e},[a,l]=(0,r.useState)((()=>n(t)));return rn((()=>{const r=e&&"current"in e?e.current:e;l((null==r?void 0:r.tagName.toLowerCase())||n(t))}),[e,t]),a}function cn(e,t){const n=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,r.useEffect)((()=>()=>{n.current=!1}),[])}function un(e){return an("function"==typeof e?e:()=>e)}function dn(e,t,n=[]){const a=(0,r.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return mt(dt({},e),{wrapElement:a})}Symbol("setNextState");var mn=!1,fn=0,pn=0;function vn(e){(function(e){const t=e.movementX||e.screenX-fn,n=e.movementY||e.screenY-pn;return fn=e.screenX,pn=e.screenY,t||n||!1})(e)&&(mn=!0)}function gn(){mn=!1}var hn=n(893);function En(e){return r.forwardRef(((t,n)=>e(dt({ref:n},t))))}function wn(e){const t=En(e);return r.memo(t)}function yn(e,t){const n=t,{as:a,wrapElement:l,render:o}=n,i=ft(n,["as","wrapElement","render"]);let s;const c=ln(t.ref,function(e){return function(e){return!!e&&!!(0,r.isValidElement)(e)&&"ref"in e}(e)?e.ref:null}(o));if(a&&"string"!=typeof a)s=(0,hn.jsx)(a,mt(dt({},i),{render:o}));else if(r.isValidElement(o)){const e=mt(dt({},o.props),{ref:c});s=r.cloneElement(o,function(e,t){const n=dt({},e);for(const r in t){if(!xt(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?dt(dt({},e[r]),t[r]):t[r];continue}const a=t[r];if("function"==typeof a&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{a(...e),t(...e)};continue}}n[r]=a}return n}(i,e))}else if(o)s=o(i);else if("function"==typeof t.children){const e=i,{children:n}=e,r=ft(e,["children"]);s=t.children(r)}else s=a?(0,hn.jsx)(a,dt({},i)):(0,hn.jsx)(e,dt({},i));return l?l(s):s}function bn(e){return(t={})=>{const n=e(t),r={};for(const e in n)xt(n,e)&&void 0!==n[e]&&(r[e]=n[e]);return r}}function Cn(e=[],t=[]){const n=r.createContext(void 0),a=r.createContext(void 0),l=()=>r.useContext(n),o=t=>e.reduceRight(((e,n)=>(0,hn.jsx)(n,mt(dt({},t),{children:e}))),(0,hn.jsx)(n.Provider,dt({},t)));return{context:n,scopedContext:a,useContext:l,useScopedContext:(e=!1)=>{const t=r.useContext(a),n=l();return e?t:t||n},useProviderContext:()=>{const e=r.useContext(a),t=l();if(!e||e!==t)return t},ContextProvider:o,ScopedContextProvider:e=>(0,hn.jsx)(o,mt(dt({},e),{children:t.reduceRight(((t,n)=>(0,hn.jsx)(n,mt(dt({},e),{children:t}))),(0,hn.jsx)(a.Provider,dt({},e)))}))}}var Sn=Cn(),xn=Sn.useContext,kn=(Sn.useScopedContext,Sn.useProviderContext,Cn([Sn.ContextProvider],[Sn.ScopedContextProvider])),In=kn.useContext,On=(kn.useScopedContext,kn.useProviderContext),Vn=kn.ContextProvider,Pn=kn.ScopedContextProvider,Mn=(0,r.createContext)(void 0),An=(0,r.createContext)(void 0),Nn="";function Fn(){Nn=""}function Ln(e,t){var n;const r=(null==(n=e.element)?void 0:n.textContent)||e.children;return!!r&&It(r).trim().toLowerCase().startsWith(t.toLowerCase())}var Rn=bn((e=>{var t=e,{store:n,typeahead:a=!0}=t,l=ft(t,["store","typeahead"]);const o=In();Vt(n=n||o,!1);const i=l.onKeyDownCapture,s=(0,r.useRef)(0),c=an((e=>{if(null==i||i(e),e.defaultPrevented)return;if(!a)return;if(!n)return;const{items:t,activeId:r}=n.getState();if(!function(e){const t=e.target;return(!t||!Ht(t))&&(!(" "!==e.key||!Nn.length)||1===e.key.length&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(e.key))}(e))return Fn();let l=function(e){return e.filter((e=>!e.disabled))}(t);if(!function(e,t){if($t(e))return!0;const n=e.target;return!!n&&t.some((e=>e.element===n))}(e,l))return Fn();e.preventDefault(),window.clearTimeout(s.current),s.current=window.setTimeout((()=>{Nn=""}),500);const o=e.key.toLowerCase();Nn+=o,l=function(e,t,n){if(!n)return e;const r=e.find((e=>e.id===n));return r&&Ln(r,t)?Nn!==t&&Ln(r,Nn)?e:(Nn=t,function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[et]:[],...e.slice(0,r)]}(e.filter((e=>Ln(e,Nn))),n).filter((e=>e.id!==n))):e}(l,o,r);const c=l.find((e=>Ln(e,Nn)));c?n.move(c.id):Fn()}));return mt(dt({},l),{onKeyDownCapture:c})})),Tn=En((e=>yn("div",Rn(e))));function Dn(e){return!!Bt(e,"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])")&&!!function(e){const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!function(e,t){if("closest"in e)return e.closest(t);do{if(Bt(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}(e,"[inert]")}function Bn(e){const t=Lt(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Hn(e){const t=Lt(e);if(!t)return!1;if(Rt(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}function jn(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var zn=Symbol("composite-hover"),Kn=bn((e=>{var t=e,{store:n,focusOnHover:a=!0,blurOnHoverEnd:l=!!a}=t,o=ft(t,["store","focusOnHover","blurOnHoverEnd"]);const i=In();Vt(n=n||i,!1);const s=((0,r.useEffect)((()=>{Jt("mousemove",vn,!0),Jt("mousedown",gn,!0),Jt("mouseup",gn,!0),Jt("keydown",gn,!0),Jt("scroll",gn,!0)}),[]),an((()=>mn))),c=o.onMouseMove,u=un(a),d=an((e=>{if(null==c||c(e),!e.defaultPrevented&&s()&&u(e)){if(!Hn(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!Bn(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),m=o.onMouseLeave,f=un(l),p=an((e=>{var t;null==m||m(e),e.defaultPrevented||s()&&(function(e){const t=jn(e);return!!t&&Rt(e.currentTarget,t)}(e)||function(e){let t=jn(e);if(!t)return!1;do{if(xt(t,zn)&&t[zn])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&f(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),v=(0,r.useCallback)((e=>{e&&(e[zn]=!0)}),[]);return mt(dt({},o),{ref:ln(v,o.ref),onMouseMove:d,onMouseLeave:p})})),Un=wn((e=>yn("div",Kn(e))));function Wn(e,t){const n=e.__unstableInternals;return Vt(n,"Invalid store"),n[t]}function Gn(e,...t){let n=e,r=n,a=Symbol(),l=St;const o=new Set,i=new Set,s=new Set,c=new Set,u=new Set,d=new WeakMap,m=new WeakMap,f=(e,t,n=c)=>(n.add(t),m.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),m.delete(t),n.delete(t)}),p=(e,l,o=!1)=>{if(!xt(n,e))return;const s=(f=l,p=n[e],function(e){return"function"==typeof e}(f)?f(function(e){return"function"==typeof e}(p)?p():p):f);var f,p;if(s===n[e])return;o||t.forEach((t=>{var n;null==(n=null==t?void 0:t.setState)||n.call(t,e,s)}));const v=n;n=bt(_t({},n),{[e]:s});const g=Symbol();a=g,i.add(e);const h=(t,r,a)=>{var l;const o=m.get(t);o&&!o.some((t=>a?a.has(t):t===e))||(null==(l=d.get(t))||l(),d.set(t,t(n,r)))};c.forEach((e=>{h(e,v)})),queueMicrotask((()=>{if(a!==g)return;const e=n;u.forEach((e=>{h(e,r,i)})),r=e,i.clear()}))},v={getState:()=>n,setState:p,__unstableInternals:{setup:e=>(s.add(e),()=>s.delete(e)),init:()=>{const e=o.size,r=Symbol();o.add(r);const a=()=>{o.delete(r),o.size||l()};if(e)return a;const i=(c=n,Object.keys(c)).map((e=>kt(...t.map((t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&xt(r,e))return Zn(t,[e],(t=>{p(e,t[e],!0)}))})))));var c;const u=[];s.forEach((e=>u.push(e())));const d=t.map($n);return l=kt(...i,...u,...d),a},subscribe:(e,t)=>f(e,t),sync:(e,t)=>(d.set(t,t(n,n)),f(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),f(e,t,u)),pick:e=>Gn(function(e,t){const n={};for(const r of t)xt(e,r)&&(n[r]=e[r]);return n}(n,e),v),omit:e=>Gn(function(e,t){const n=_t({},e);for(const e of t)xt(n,e)&&delete n[e];return n}(n,e),v)}};return v}function qn(e,...t){if(e)return Wn(e,"setup")(...t)}function $n(e,...t){if(e)return Wn(e,"init")(...t)}function Qn(e,...t){if(e)return Wn(e,"subscribe")(...t)}function Zn(e,...t){if(e)return Wn(e,"sync")(...t)}function Yn(e,...t){if(e)return Wn(e,"batch")(...t)}function Xn(e,...t){if(e)return Wn(e,"omit")(...t)}function Jn(...e){const t=e.reduce(((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?_t(_t({},e),r):e}),{});return Gn(t,...e)}var er=n(688),{useSyncExternalStore:tr}=er,nr=()=>()=>{};function rr(e,t=Ot){const n=r.useCallback((t=>e?Qn(e,null,t):nr()),[e]),a=()=>{const n="string"==typeof t?t:null,r="function"==typeof t?t:null,a=null==e?void 0:e.getState();return r?r(a):a&&n&&xt(a,n)?a[n]:void 0};return tr(n,a,a)}function ar(e,t,n,a){const l=xt(t,n)?t[n]:void 0,o=a?t[a]:void 0,i=function(e){const t=(0,r.useRef)(e);return rn((()=>{t.current=e})),t}({value:l,setValue:o});rn((()=>Zn(e,[n],((e,t)=>{const{value:r,setValue:a}=i.current;a&&e[n]!==t[n]&&e[n]!==r&&a(e[n])}))),[e,n]),rn((()=>{if(void 0!==l)return e.setState(n,l),Yn(e,[n],(()=>{void 0!==l&&e.setState(n,l)}))}))}function lr(e,t,n){return ar(e=function(e,t,n){return cn(t,[n.store]),ar(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),ar(e,n,"includesBaseElement"),ar(e,n,"virtualFocus"),ar(e,n,"orientation"),ar(e,n,"rtl"),ar(e,n,"focusLoop"),ar(e,n,"focusWrap"),ar(e,n,"focusShift"),e}function or(e,t,n){return function(e,t,n){return cn(t,[n.store,n.disclosure]),ar(e,n,"open","setOpen"),ar(e,n,"mounted","setMounted"),ar(e,n,"animated"),e}(e,t,n)}function ir(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=Mt(e.items,null==n?void 0:n.items,e.defaultItems,[]),a=new Map(r.map((e=>[e.id,e]))),l={items:r,renderedItems:Mt(null==n?void 0:n.renderedItems,[])},o=null==(i=e.store)?void 0:i.__unstablePrivateStore;var i;const s=Gn({items:r,renderedItems:l.renderedItems},o),c=Gn(l,e.store),u=e=>{const t=function(e){const t=e.map(((e,t)=>[t,e]));let n=!1;return t.sort((([e,t],[r,a])=>{const l=t.element,o=a.element;return l===o?0:l&&o?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(l,o)?(e>r&&(n=!0),-1):(e<r&&(n=!0),1):0})),n?t.map((([e,t])=>t)):e}(e);s.setState("renderedItems",t),c.setState("renderedItems",t)};qn(c,(()=>$n(s))),qn(s,(()=>Yn(s,["items"],(e=>{c.setState("items",e.items)})))),qn(s,(()=>Yn(s,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=c.getState();e.renderedItems!==t&&u(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find((e=>!!e.element)),r=[...e].reverse().find((e=>!!e.element));let a=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;a&&(null==r?void 0:r.element);){if(r&&a.contains(r.element))return a;a=a.parentElement}return Ft(a).body}(e.renderedItems),a=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>u(e.renderedItems))))}),{root:r});for(const t of e.renderedItems)t.element&&a.observe(t.element);return()=>{cancelAnimationFrame(n),a.disconnect()}}))));const d=(e,t,n=!1)=>{let r;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),l=t.slice();if(-1!==n){r=t[n];const o=_t(_t({},r),e);l[n]=o,a.set(e.id,o)}else l.push(e),a.set(e.id,e);return l})),()=>{t((t=>{if(!r)return n&&a.delete(e.id),t.filter((({id:t})=>t!==e.id));const l=t.findIndex((({id:t})=>t===e.id));if(-1===l)return t;const o=t.slice();return o[l]=r,a.set(e.id,r),o}))}},m=e=>d(e,(e=>s.setState("items",e)),!0);return bt(_t({},c),{registerItem:m,renderItem:e=>kt(m(e),d(e,(e=>s.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=a.get(e);if(!t){const{items:n}=c.getState();t=n.find((t=>t.id===e)),t&&a.set(e,t)}return t||null},__unstablePrivateStore:s})}function sr(e){const t=[];for(const n of e)t.push(...n);return t}function cr(e){return e.slice().reverse()}var ur={id:null};function dr(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function mr(e,t){return e.filter((e=>e.rowId===t))}function fr(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function pr(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function vr(e,t,n){const r=pr(e);for(const a of e)for(let e=0;e<r;e+=1){const r=a[e];if(!r||n&&r.disabled){const r=0===e&&n?dr(a):a[e-1];a[e]=r&&t!==r.id&&n?r:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==r?void 0:r.rowId}}}return e}function gr(e){const t=fr(e),n=pr(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push(bt(_t({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}var hr=Gt()&&Nt&&!!navigator.maxTouchPoints;function Er(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=Mt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId,null),a=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=ir(e),a=Mt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),l=Gn(bt(_t({},r.getState()),{activeId:a,baseElement:Mt(null==n?void 0:n.baseElement,null),includesBaseElement:Mt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===a),moves:Mt(null==n?void 0:n.moves,0),orientation:Mt(e.orientation,null==n?void 0:n.orientation,"both"),rtl:Mt(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:Mt(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:Mt(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:Mt(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:Mt(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);qn(l,(()=>Zn(l,["renderedItems","activeId"],(e=>{l.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=dr(e.renderedItems))?void 0:n.id}))}))));const o=(e,t,n,r)=>{var a,o;const{activeId:i,rtl:s,focusLoop:c,focusWrap:u,includesBaseElement:d}=l.getState(),m=s&&"vertical"!==t?cr(e):e;if(null==i)return null==(a=dr(m))?void 0:a.id;const f=m.find((e=>e.id===i));if(!f)return null==(o=dr(m))?void 0:o.id;const p=!!f.rowId,v=m.indexOf(f),g=m.slice(v+1),h=mr(g,f.rowId);if(void 0!==r){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(h,i),t=e.slice(r)[0]||e[e.length-1];return null==t?void 0:t.id}const E=function(e){return"vertical"===e?"horizontal":"horizontal"===e?"vertical":void 0}(p?t||"horizontal":t),w=c&&c!==E,y=p&&u&&u!==E;if(n=n||!p&&w&&d,w){const e=function(e,t,n=!1){const r=e.findIndex((e=>e.id===t));return[...e.slice(r+1),...n?[ur]:[],...e.slice(0,r)]}(y&&!n?m:mr(m,f.rowId),i,n),t=dr(e,i);return null==t?void 0:t.id}if(y){const e=dr(n?h:g,i);return n?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const _=dr(h,i);return!_&&n?null:null==_?void 0:_.id};return bt(_t(_t({},r),l),{setBaseElement:e=>l.setState("baseElement",e),setActiveId:e=>l.setState("activeId",e),move:e=>{void 0!==e&&(l.setState("activeId",e),l.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=dr(l.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=dr(cr(l.getState().renderedItems)))?void 0:e.id},next:e=>{const{renderedItems:t,orientation:n}=l.getState();return o(t,n,!1,e)},previous:e=>{var t;const{renderedItems:n,orientation:r,includesBaseElement:a}=l.getState(),i=!(null==(t=dr(n))?void 0:t.rowId)&&a;return o(cr(n),r,i,e)},down:e=>{const{activeId:t,renderedItems:n,focusShift:r,focusLoop:a,includesBaseElement:i}=l.getState(),s=r&&!e,c=gr(sr(vr(fr(n),t,s)));return o(c,"vertical",a&&"horizontal"!==a&&i,e)},up:e=>{const{activeId:t,renderedItems:n,focusShift:r,includesBaseElement:a}=l.getState(),i=r&&!e,s=gr(cr(sr(vr(fr(n),t,i))));return o(s,"vertical",a,e)}})}(bt(_t({},e),{activeId:r,includesBaseElement:Mt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,!0),orientation:Mt(e.orientation,null==n?void 0:n.orientation,"vertical"),focusLoop:Mt(e.focusLoop,null==n?void 0:n.focusLoop,!0),focusWrap:Mt(e.focusWrap,null==n?void 0:n.focusWrap,!0),virtualFocus:Mt(e.virtualFocus,null==n?void 0:n.virtualFocus,!hr)})),l=function(e={}){var t=e,{popover:n}=t,r=Ct(t,["popover"]);const a=Jn(r.store,Xn(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),l=null==a?void 0:a.getState(),o=function(e={}){return function(e={}){const t=Jn(e.store,Xn(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=Mt(e.open,null==n?void 0:n.open,e.defaultOpen,!1),a=Mt(e.animated,null==n?void 0:n.animated,!1),l=Gn({open:r,animated:a,animating:!!a&&r,mounted:r,contentElement:Mt(null==n?void 0:n.contentElement,null),disclosureElement:Mt(null==n?void 0:n.disclosureElement,null)},t);return qn(l,(()=>Zn(l,["animated","animating"],(e=>{e.animated||l.setState("animating",!1)})))),qn(l,(()=>Qn(l,["open"],(()=>{l.getState().animated&&l.setState("animating",!0)})))),qn(l,(()=>Zn(l,["open","animating"],(e=>{l.setState("mounted",e.open||e.animating)})))),bt(_t({},l),{setOpen:e=>l.setState("open",e),show:()=>l.setState("open",!0),hide:()=>l.setState("open",!1),toggle:()=>l.setState("open",(e=>!e)),stopAnimation:()=>l.setState("animating",!1),setContentElement:e=>l.setState("contentElement",e),setDisclosureElement:e=>l.setState("disclosureElement",e)})}(e)}(bt(_t({},r),{store:a})),i=Mt(r.placement,null==l?void 0:l.placement,"bottom"),s=Gn(bt(_t({},o.getState()),{placement:i,currentPlacement:i,anchorElement:Mt(null==l?void 0:l.anchorElement,null),popoverElement:Mt(null==l?void 0:l.popoverElement,null),arrowElement:Mt(null==l?void 0:l.arrowElement,null),rendered:Symbol("rendered")}),o,a);return bt(_t(_t({},o),s),{setAnchorElement:e=>s.setState("anchorElement",e),setPopoverElement:e=>s.setState("popoverElement",e),setArrowElement:e=>s.setState("arrowElement",e),render:()=>s.setState("rendered",Symbol("rendered"))})}(bt(_t({},e),{placement:Mt(e.placement,null==n?void 0:n.placement,"bottom-start")})),o=Mt(e.value,null==n?void 0:n.value,e.defaultValue,""),i=Mt(e.selectedValue,null==n?void 0:n.selectedValue,e.defaultSelectedValue,""),s=Array.isArray(i),c=Gn(bt(_t(_t({},a.getState()),l.getState()),{value:o,selectedValue:i,resetValueOnSelect:Mt(e.resetValueOnSelect,null==n?void 0:n.resetValueOnSelect,s),resetValueOnHide:Mt(e.resetValueOnHide,null==n?void 0:n.resetValueOnHide,s),activeValue:null==n?void 0:n.activeValue}),a,l,e.store);return qn(c,(()=>Zn(c,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||c.setState("value",o))})))),qn(c,(()=>Zn(c,["resetValueOnSelect","selectedValue"],(e=>{e.resetValueOnSelect&&c.setState("value",o)})))),qn(c,(()=>Yn(c,["mounted"],(e=>{e.mounted||(c.setState("activeId",r),c.setState("moves",0))})))),qn(c,(()=>Zn(c,["moves","activeId"],((e,t)=>{e.moves===t.moves&&c.setState("activeValue",void 0)})))),qn(c,(()=>Yn(c,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=c.getState(),r=a.item(n);c.setState("activeValue",null==r?void 0:r.value)})))),bt(_t(_t(_t({},l),a),c),{setValue:e=>c.setState("value",e),setSelectedValue:e=>c.setState("selectedValue",e)})}function wr(e={}){const[t,n]=function(e,t){const[n,a]=r.useState((()=>e(t)));rn((()=>$n(n)),[n]);const l=r.useCallback((e=>rr(n,e)),[n]);return[r.useMemo((()=>mt(dt({},n),{useState:l})),[n,l]),an((()=>{a((n=>e(dt(dt({},t),n.getState()))))}))]}(Er,e);return function(e,t,n){return ar(e=lr(e=function(e,t,n){return cn(t,[n.popover]),ar(e=or(e,t,n),n,"placement"),e}(e,t,n),t,n),n,"value","setValue"),ar(e,n,"selectedValue","setSelectedValue"),ar(e,n,"resetValueOnHide"),ar(e,n,"resetValueOnSelect"),e}(t,n,e)}var yr=Cn(),_r=(yr.useContext,yr.useScopedContext,yr.useProviderContext),br=Cn([yr.ContextProvider],[yr.ScopedContextProvider]),Cr=(br.useContext,br.useScopedContext,br.useProviderContext,br.ContextProvider),Sr=br.ScopedContextProvider,xr=((0,r.createContext)(void 0),(0,r.createContext)(void 0),Cn([Cr],[Sr])),kr=(xr.useContext,xr.useScopedContext,xr.useProviderContext),Ir=xr.ContextProvider,Or=xr.ScopedContextProvider,Vr=Cn([Ir,Vn],[Or,Pn]),Pr=(Vr.useContext,Vr.useScopedContext),Mr=Vr.useProviderContext,Ar=Vr.ContextProvider,Nr=Vr.ScopedContextProvider,Fr=(0,r.createContext)(void 0),Lr=(0,r.createContext)(!1);function Rr(e={}){const t=wr(e);return(0,hn.jsx)(Ar,{value:t,children:e.children})}var Tr=bn((e=>{var t=e,{store:n}=t,r=ft(t,["store"]);const a=Mr();Vt(n=n||a,!1);const l=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return dt({htmlFor:l},r)})),Dr=wn((e=>yn("label",Tr(e)))),Br=bn((e=>{var t=e,{store:n}=t,r=ft(t,["store"]);const a=kr();return n=n||a,mt(dt({},r),{ref:ln(null==n?void 0:n.setAnchorElement,r.ref)})}));En((e=>yn("div",Br(e))));var Hr=(0,r.createContext)(!0),jr=Gt(),zr=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"];function Kr(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Ur(e,t,n,r,a){return e?t?n&&!r?-1:void 0:n?a:a||0:a}function Wr(e,t){return an((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var Gr=!0;function qr(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(Gr=!1))}function $r(e){e.metaKey||e.ctrlKey||e.altKey||(Gr=!0)}var Qr=bn((e=>{var t=e,{focusable:n=!0,accessibleWhenDisabled:a,autoFocus:l,onFocusVisible:o}=t,i=ft(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const s=(0,r.useRef)(null);(0,r.useEffect)((()=>{n&&(Jt("mousedown",qr,!0),Jt("keydown",$r,!0))}),[n]),jr&&(0,r.useEffect)((()=>{if(!n)return;const e=s.current;if(!e)return;if(!Kr(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const r=()=>queueMicrotask((()=>e.focus()));return t.forEach((e=>e.addEventListener("mouseup",r))),()=>{t.forEach((e=>e.removeEventListener("mouseup",r)))}}),[n]);const c=n&&Pt(i),u=!!c&&!a,[d,m]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n&&u&&d&&m(!1)}),[n,u,d]),(0,r.useEffect)((()=>{if(!n)return;if(!d)return;const e=s.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{Dn(e)||m(!1)}));return t.observe(e),()=>t.disconnect()}),[n,d]);const f=Wr(i.onKeyPressCapture,c),p=Wr(i.onMouseDownCapture,c),v=Wr(i.onClickCapture,c),g=i.onMouseDown,h=an((e=>{if(null==g||g(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!jr)return;if(qt(e))return;if(!Tt(t)&&!Kr(t))return;let r=!1;const a=()=>{r=!0};t.addEventListener("focusin",a,{capture:!0,once:!0}),Xt(t,"mouseup",(()=>{t.removeEventListener("focusin",a,!0),r||function(e){!Hn(e)&&Dn(e)&&e.focus()}(t)}))})),E=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const r=e.currentTarget;r&&Bn(r)&&(null==o||o(e),e.defaultPrevented||m(!0))},w=i.onKeyDownCapture,y=an((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(d)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!$t(e))return;const t=e.currentTarget;queueMicrotask((()=>E(e,t)))})),_=i.onFocusCapture,b=an((e=>{if(null==_||_(e),e.defaultPrevented)return;if(!n)return;if(!$t(e))return void m(!1);const t=e.currentTarget,r=()=>E(e,t);Gr||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable:zr.includes(r))}(e.target)?queueMicrotask(r):function(e){return"combobox"===e.getAttribute("role")&&!!e.dataset.name}(e.target)?Xt(e.target,"focusout",r):m(!1)})),C=i.onBlur,S=an((e=>{null==C||C(e),n&&Yt(e)&&m(!1)})),x=(0,r.useContext)(Hr),k=an((e=>{n&&l&&e&&x&&queueMicrotask((()=>{Bn(e)||Dn(e)&&e.focus()}))})),I=sn(s,i.as),O=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(I),V=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(I),P=u?dt({pointerEvents:"none"},i.style):i.style;return mt(dt({"data-focus-visible":n&&d?"":void 0,"data-autofocus":!!l||void 0,"aria-disabled":!!c||void 0},i),{ref:ln(s,k,i.ref),style:P,tabIndex:Ur(n,u,O,V,i.tabIndex),disabled:!(!V||!u)||void 0,contentEditable:c?void 0:i.contentEditable,onKeyPressCapture:f,onClickCapture:v,onMouseDownCapture:p,onMouseDown:h,onKeyDownCapture:y,onFocusCapture:b,onBlur:S})}));function Zr(e,t,n){return an((r=>{var a;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!$t(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!Ht(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const l=e.getState(),o=null==(a=tt(e,l.activeId))?void 0:a.element;if(!o)return;const i=r,{view:s}=i,c=ft(i,["view"]);o!==(null==n?void 0:n.current)&&o.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(o,r.type,c)||r.preventDefault(),r.currentTarget.contains(o)&&r.stopPropagation()}))}En((e=>yn("div",e=Qr(e))));var Yr=bn((e=>{var t=e,{store:n,composite:a=!0,focusOnMove:l=a,moveOnKeyPress:o=!0}=t,i=ft(t,["store","composite","focusOnMove","moveOnKeyPress"]);const s=On();Vt(n=n||s,!1);const c=(0,r.useRef)(null),u=function(e){const[t,n]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>n(!0)),[]),l=e.useState((t=>tt(e,t.activeId)));return(0,r.useEffect)((()=>{const e=null==l?void 0:l.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[l,t]),a}(n),d=n.useState("moves");(0,r.useEffect)((()=>{var e;if(!n)return;if(!d)return;if(!a)return;if(!l)return;const{activeId:t}=n.getState(),r=null==(e=tt(n,t))?void 0:e.element;var o;r&&("scrollIntoView"in(o=r)?(o.focus({preventScroll:!0}),o.scrollIntoView(_t({block:"nearest",inline:"nearest"},undefined))):o.focus())}),[n,d,a,l]),rn((()=>{if(!n)return;if(!d)return;if(!a)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const r=c.current;c.current=null,r&&Qt(r,{relatedTarget:e}),Bn(e)||e.focus()}),[n,d,a]);const m=n.useState("activeId"),f=n.useState("virtualFocus");rn((()=>{var e;if(!n)return;if(!a)return;if(!f)return;const t=c.current;if(c.current=null,!t)return;const r=(null==(e=tt(n,m))?void 0:e.element)||Lt(t);r!==t&&Qt(t,{relatedTarget:r})}),[n,m,f,a]);const p=Zr(n,i.onKeyDownCapture,c),v=Zr(n,i.onKeyUpCapture,c),g=i.onFocusCapture,h=an((e=>{if(null==g||g(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const r=e.relatedTarget,a=function(e){const t=e[nt];return delete e[nt],t}(e.currentTarget);$t(e)&&a&&(e.stopPropagation(),c.current=r)})),E=i.onFocus,w=an((e=>{if(null==E||E(e),e.defaultPrevented)return;if(!a)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:r}=n.getState();r?$t(e)&&!rt(n,t)&&queueMicrotask(u):$t(e)&&n.setActiveId(null)})),y=i.onBlurCapture,_=an((e=>{var t;if(null==y||y(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:r,activeId:a}=n.getState();if(!r)return;const l=null==(t=tt(n,a))?void 0:t.element,o=e.relatedTarget,i=rt(n,o),s=c.current;c.current=null,$t(e)&&i?(o===l?s&&s!==o&&Qt(s,e):l?Qt(l,e):s&&Qt(s,e),e.stopPropagation()):!rt(n,e.target)&&l&&Qt(l,e)})),b=i.onKeyDown,C=un(o),S=an((e=>{var t;if(null==b||b(e),e.defaultPrevented)return;if(!n)return;if(!$t(e))return;const{orientation:r,items:a,renderedItems:l,activeId:o}=n.getState(),i=tt(n,o);if(null==(t=null==i?void 0:i.element)?void 0:t.isConnected)return;const s="horizontal"!==r,c="vertical"!==r,u=function(e){return e.some((e=>!!e.rowId))}(l);if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&Ht(e.currentTarget))return;const d={ArrowUp:(u||s)&&(()=>{if(u){const e=a&&function(e){return function(e,t){return e.find((e=>!e.disabled))}(sr(cr(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(e))))}(a);return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(u||c)&&n.first,ArrowDown:(u||s)&&n.first,ArrowLeft:(u||c)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},m=d[e.key];if(m){const t=m();if(void 0!==t){if(!C(e))return;e.preventDefault(),n.move(t)}}}));i=dn(i,(e=>(0,hn.jsx)(Vn,{value:n,children:e})),[n]);const x=n.useState((e=>{var t;if(n&&a&&e.virtualFocus)return null==(t=tt(n,e.activeId))?void 0:t.id}));i=mt(dt({"aria-activedescendant":x},i),{ref:ln(a?n.setBaseElement:null,i.ref),onKeyDownCapture:p,onKeyUpCapture:v,onFocusCapture:h,onFocus:w,onBlurCapture:_,onKeyDown:S});const k=n.useState((e=>a&&(e.virtualFocus||null===e.activeId)));return Qr(dt({focusable:k},i))}));En((e=>yn("div",Yr(e))));var Xr=window.ReactDOM;function Jr(e,t,n){if(!n)return!1;const r=e.find((e=>!e.disabled&&e.value));return(null==r?void 0:r.value)===t}function ea(e,t){return!!t&&null!=e&&(e=It(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}var ta=bn((e=>{var t=e,{store:n,focusable:a=!0,autoSelect:l=!1,getAutoSelectId:o,showOnChange:i=!0,setValueOnChange:s=!0,showOnMouseDown:c=!0,setValueOnClick:u=!0,showOnKeyDown:d=!0,moveOnKeyPress:m=!0,autoComplete:f="list"}=t,p=ft(t,["store","focusable","autoSelect","getAutoSelectId","showOnChange","setValueOnChange","showOnMouseDown","setValueOnClick","showOnKeyDown","moveOnKeyPress","autoComplete"]);const v=Mr();Vt(n=n||v,!1);const g=(0,r.useRef)(null),[h,E]=(0,r.useReducer)((()=>[]),[]),w=(0,r.useRef)(!1),y=(0,r.useRef)(!1),_=n.useState((e=>!!l&&e.virtualFocus)),b="inline"===f||"both"===f,[C,S]=(0,r.useState)(b);!function(e,t){const n=(0,r.useRef)(!1);rn((()=>{n.current?b&&S(!0):n.current=!0}),t),rn((()=>()=>{n.current=!1}),[])}(0,[b]);const x=n.useState("value"),k=n.useState((e=>b&&C?e.activeValue:void 0)),I=n.useState("renderedItems"),O=n.useState("open"),V=n.useState("contentElement"),P=(0,r.useMemo)((()=>{if(!b)return x;if(!C)return x;if(Jr(I,k,_)){if(ea(x,k)){const e=(null==k?void 0:k.slice(x.length))||"";return x+e}return x}return k||x}),[b,C,I,k,_,x]);(0,r.useEffect)((()=>{const e=g.current;if(!e)return;const t=()=>S(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,r.useEffect)((()=>{b&&C&&k&&Jr(I,k,_)&&ea(x,k)&&queueMicrotask((()=>{const e=g.current;e&&Ut(e,x.length,k.length)}))}),[h,b,C,k,I,_,x]);const M=(0,r.useRef)(null),A=an(o),N=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(!O)return;if(!V)return;const e=Kt(V);if(!e)return;M.current=e;const t=()=>{w.current=!1},r=()=>{if(!n)return;if(!w.current)return;const{activeId:e}=n.getState();null!==e&&e!==N.current&&(w.current=!1)},a={passive:!0,capture:!0};return e.addEventListener("wheel",t,a),e.addEventListener("scroll",r,a),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("scroll",r,!0)}}),[O,V,n]),rn((()=>{x&&(y.current||(w.current=!0))}),[x]),rn((()=>{O||(w.current=!1)}),[O]);const F=n.useState("resetValueOnSelect");cn((()=>{var e;const t=w.current;if(!n)return;if(!(_&&t||F))return;const{baseElement:r,contentElement:a,activeId:l}=n.getState();if(!r||Bn(r)){if(null==a?void 0:a.hasAttribute("data-placing")){const e=new MutationObserver(E);return e.observe(a,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(_&&t){const e=A(I),t=void 0!==e?e:n.first();N.current=t,n.move(null!=t?t:null)}else{const t=null==(e=n.item(l))?void 0:e.element;t&&"scrollIntoView"in t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,h,x,_,F,A,I]),(0,r.useEffect)((()=>{if(!b)return;const e=g.current;if(!e)return;const t=[e,V].filter((e=>!!e)),r=e=>{t.every((t=>Yt(e,t)))&&(null==n||n.setValue(P))};return t.forEach((e=>e.addEventListener("focusout",r))),()=>{t.forEach((e=>e.removeEventListener("focusout",r)))}}),[b,V,n,P]);const L=p.onChange,R=un(i),T=un(s),D=an((e=>{if(null==L||L(e),e.defaultPrevented)return;if(!n)return;const{value:t,selectionStart:r,selectionEnd:a}=e.target,l=e.nativeEvent;if(w.current=!0,function(e){return"input"===e.type}(l)&&(l.isComposing&&(w.current=!1,y.current=!0),b)){const e="insertText"===l.inputType||"insertCompositionText"===l.inputType,n=r===t.length;S(e&&n)}if(T(e)){const l=t===n.getState().value;(0,Xr.flushSync)((()=>null==n?void 0:n.setValue(t))),Ut(e.currentTarget,r,a),b&&_&&l&&E()}R(e)&&n.show(),_&&w.current||n.setActiveId(null)})),B=p.onCompositionEnd,H=an((e=>{w.current=!0,y.current=!1,null==B||B(e),e.defaultPrevented||_&&E()})),j=p.onMouseDown,z=un(u),K=un(c),U=an((e=>{null==j||j(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(n.setActiveId(null),z(e)&&n.setValue(P),K(e)&&Xt(e.currentTarget,"mouseup",n.show))})),W=p.onKeyDown,G=un(d),q=an((e=>{if(null==W||W(e),e.repeat||(w.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t,activeId:r}=n.getState();t||null===r&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||G(e)&&(e.preventDefault(),n.show()))})),$=p.onBlur,Q=an((e=>{w.current=!1,null==$||$(e),e.defaultPrevented})),Z=on(p.id),Y=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(f)?f:void 0,X=n.useState((e=>null===e.activeId));return p=mt(dt({id:Z,role:"combobox","aria-autocomplete":Y,"aria-haspopup":jt(V,"listbox"),"aria-expanded":O,"aria-controls":null==V?void 0:V.id,"data-active-item":X||void 0,value:P},p),{ref:ln(g,p.ref),onChange:D,onCompositionEnd:H,onMouseDown:U,onKeyDown:q,onBlur:Q}),p=Yr(mt(dt({store:n,focusable:a},p),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(m,e)&&(b&&S(!0),!0)})),p=Br(dt({store:n},p)),dt({autoComplete:"off"},p)})),na=En((e=>yn("input",ta(e))));function ra(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function aa(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=1e3*parseFloat(t||"0s");return n>e?n:e}),0)}function la(e,t,n){return!(n||!1===t||e&&!t)}var oa=bn((e=>{var t=e,{store:n,alwaysVisible:a}=t,l=ft(t,["store","alwaysVisible"]);const o=_r();Vt(n=n||o,!1);const i=on(l.id),[s,c]=(0,r.useState)(null),u=n.useState("open"),d=n.useState("mounted"),m=n.useState("animated"),f=n.useState("contentElement");rn((()=>{if(m){if(null==f?void 0:f.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{c(u?"enter":"leave")}));c(null)}}),[m,f,u]),rn((()=>{if(!n)return;if(!m)return;if(!f)return;if(!s)return;if("enter"===s&&!u)return;if("leave"===s&&u)return;if("number"==typeof m)return ra(m,n.stopAnimation);const{transitionDuration:e,animationDuration:t,transitionDelay:r,animationDelay:a}=getComputedStyle(f),l=aa(r,a)+aa(e,t);return l?ra(l,n.stopAnimation):void 0}),[n,m,f,u,s]);const p=la(d,(l=dn(l,(e=>(0,hn.jsx)(Sr,{value:n,children:e})),[n])).hidden,a),v=p?mt(dt({},l.style),{display:"none"}):l.style;return mt(dt({id:i,"data-enter":"enter"===s?"":void 0,"data-leave":"leave"===s?"":void 0,hidden:p},l),{ref:ln(i?n.setContentElement:null,l.ref),style:v})})),ia=En((e=>yn("div",oa(e))));En((e=>{var t=e,{unmountOnHide:n}=t,r=ft(t,["unmountOnHide"]);const a=_r();return!1===rr(r.store||a,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,hn.jsx)(ia,dt({},r))}));var sa=bn((e=>{var t=e,{store:n,focusable:a=!0,alwaysVisible:l}=t,o=ft(t,["store","focusable","alwaysVisible"]);const i=Mr();Vt(n=n||i,!1);const s=(0,r.useRef)(null),c=on(o.id),u=o.onKeyDown,d=an((e=>{null==u||u(e),e.defaultPrevented||"Escape"===e.key&&(null==n||n.move(null))})),m=(0,r.useRef)(!1),f=o.onFocusVisible,p=an((e=>{if(null==f||f(e),e.defaultPrevented)return;if("focus"!==e.type)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const{relatedTarget:r,currentTarget:a}=e;r&&a.contains(r)||(m.current=!0,n.setState("virtualFocus",!1))})),v=o.onBlur,g=an((e=>{null==v||v(e),e.defaultPrevented||m.current&&Yt(e)&&(m.current=!1,null==n||n.setState("virtualFocus",!0))}));o=dn(o,(e=>(0,hn.jsx)(Nr,{value:n,children:e})),[n]);const h=la(n.useState("mounted"),o.hidden,l),E=h?mt(dt({},o.style),{display:"none"}):o.style,w=n.useState((e=>Array.isArray(e.selectedValue))),y=function(e,t,n){const[a,l]=(0,r.useState)(n);return rn((()=>{const n=e&&"current"in e?e.current:e,r=null==n?void 0:n.getAttribute(t);null!=r&&l(r)}),[e,t]),a}(s,"role",o.role);return o=mt(dt({id:c,hidden:h,role:"listbox",tabIndex:a?-1:void 0,"aria-multiselectable":("listbox"===y||"tree"===y||"grid"===y)&&w||void 0},o),{ref:ln(c?n.setContentElement:null,s,o.ref),style:E,onKeyDown:d,onFocusVisible:p,onBlur:g}),Qr(dt({focusable:a},o))})),ca=En((e=>yn("div",sa(e))));function ua(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Tt(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Tt(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}var da=Symbol("command"),ma=bn((e=>{var t=e,{clickOnEnter:n=!0,clickOnSpace:a=!0}=t,l=ft(t,["clickOnEnter","clickOnSpace"]);const o=(0,r.useRef)(null),i=sn(o,l.as),s=l.type,[c,u]=(0,r.useState)((()=>!!i&&Tt({tagName:i,type:s})));(0,r.useEffect)((()=>{o.current&&u(Tt(o.current))}),[]);const[d,m]=(0,r.useState)(!1),f=(0,r.useRef)(!1),p=Pt(l),[v,g]=function(e,t,n){const a=e.onLoadedMetadataCapture,l=(0,r.useMemo)((()=>Object.assign((()=>{}),mt(dt({},a),{[t]:true}))),[a,t,true]);return[null==a?void 0:a[t],{onLoadedMetadataCapture:l}]}(l,da),h=l.onKeyDown,E=an((e=>{null==h||h(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(v)return;if(p)return;if(!$t(e))return;if(Ht(t))return;if(t.isContentEditable)return;const r=n&&"Enter"===e.key,l=a&&" "===e.key,o="Enter"===e.key&&!n,i=" "===e.key&&!a;if(o||i)e.preventDefault();else if(r||l){const n=ua(e);if(r){if(!n){e.preventDefault();const n=e,{view:r}=n,a=ft(n,["view"]),l=()=>Zt(t,a);Nt&&/firefox\//i.test(navigator.userAgent)?Xt(t,"keyup",l):queueMicrotask(l)}}else l&&(f.current=!0,n||(e.preventDefault(),m(!0)))}})),w=l.onKeyUp,y=an((e=>{if(null==w||w(e),e.defaultPrevented)return;if(v)return;if(p)return;if(e.metaKey)return;const t=a&&" "===e.key;if(f.current&&t&&(f.current=!1,!ua(e))){e.preventDefault(),m(!1);const t=e.currentTarget,n=e,{view:r}=n,a=ft(n,["view"]);queueMicrotask((()=>Zt(t,a)))}}));return l=mt(dt(dt({"data-active":d?"":void 0,type:c?"button":void 0},g),l),{ref:ln(o,l.ref),onKeyDown:E,onKeyUp:y}),Qr(l)}));En((e=>yn("button",e=ma(e))));var fa=bn((e=>{var t=e,{store:n,shouldRegisterItem:a=!0,getItem:l=Ot,element:o}=t,i=ft(t,["store","shouldRegisterItem","getItem","element"]);const s=xn();n=n||s;const c=on(i.id),u=(0,r.useRef)(o);return(0,r.useEffect)((()=>{const e=u.current;if(!c)return;if(!e)return;if(!a)return;const t=l({id:c,element:e});return null==n?void 0:n.renderItem(t)}),[c,a,l,n]),mt(dt({},i),{ref:ln(u,i.ref)})}));function pa(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function va(e,t,n,r=!1){var a;if(!t)return;if(!n)return;const{renderedItems:l}=t.getState(),o=Kt(e);if(!o)return;const i=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),a=1.5*Math.max(.875*n,n-40),l=t?n-a+r:a+r;return"HTML"===e.tagName?l+e.scrollTop:l}(o,r);let s,c;for(let e=0;e<l.length;e+=1){const l=s;if(s=n(e),!s)break;if(s===l)continue;const o=null==(a=tt(t,s))?void 0:a.element;if(!o)continue;const u=pa(o,r)-i,d=Math.abs(u);if(r&&u<=0||!r&&u>=0){void 0!==c&&c<d&&(s=l);break}c=d}return s}En((e=>yn("div",fa(e))));var ga=bn((e=>{var t=e,{store:n,rowId:a,preventScrollOnKeyDown:l=!1,moveOnKeyPress:o=!0,tabbable:i=!1,getItem:s,"aria-setsize":c,"aria-posinset":u}=t,d=ft(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const m=In();n=n||m;const f=on(d.id),p=(0,r.useRef)(null),v=(0,r.useContext)(An),g=rr(n,(e=>a||(e&&(null==v?void 0:v.baseElement)&&v.baseElement===e.baseElement?v.id:void 0))),h=Pt(d)&&!d.accessibleWhenDisabled,E=(0,r.useCallback)((e=>{const t=mt(dt({},e),{id:f||e.id,rowId:g,disabled:!!h});return s?s(t):t}),[f,g,h,s]),w=d.onFocus,y=(0,r.useRef)(!1),_=an((e=>{if(null==w||w(e),e.defaultPrevented)return;if(qt(e))return;if(!f)return;if(!n)return;const{activeId:t,virtualFocus:r,baseElement:a}=n.getState();var l;(function(e,t){return!$t(e)&&rt(t,e.target)})(e,n)||(t!==f&&n.setActiveId(f),r&&$t(e)&&((l=e.currentTarget).isContentEditable||Ht(l)||"INPUT"===l.tagName&&!Tt(l)||(null==a?void 0:a.isConnected)&&(y.current=!0,e.relatedTarget===a||rt(n,e.relatedTarget)?function(e){e[nt]=!0,e.focus({preventScroll:!0})}(a):a.focus())))})),b=d.onBlurCapture,C=an((e=>{if(null==b||b(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&y.current&&(y.current=!1,e.preventDefault(),e.stopPropagation())})),S=d.onKeyDown,x=un(l),k=un(o),I=an((e=>{if(null==S||S(e),e.defaultPrevented)return;if(!$t(e))return;if(!n)return;const{currentTarget:t}=e,r=n.getState(),a=n.item(f),l=!!(null==a?void 0:a.rowId),o="horizontal"!==r.orientation,i="vertical"!==r.orientation,s=()=>!(!l&&!i&&r.baseElement&&Ht(r.baseElement)),c={ArrowUp:(l||o)&&n.up,ArrowRight:(l||i)&&n.next,ArrowDown:(l||o)&&n.down,ArrowLeft:(l||i)&&n.previous,Home:()=>{if(s())return!l||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(s())return!l||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>va(t,n,null==n?void 0:n.up,!0),PageDown:()=>va(t,n,null==n?void 0:n.down)}[e.key];if(c){const t=c();if(x(e)||void 0!==t){if(!k(e))return;e.preventDefault(),n.move(t)}}})),O=rr(n,(e=>(null==e?void 0:e.baseElement)||void 0)),V=(0,r.useMemo)((()=>({id:f,baseElement:O})),[f,O]);d=dn(d,(e=>(0,hn.jsx)(Mn.Provider,{value:V,children:e})),[V]);const P=rr(n,(e=>!!e&&e.activeId===f)),M=rr(n,"virtualFocus"),A=function(e,t){const n=t.role,[a,l]=(0,r.useState)(n);return rn((()=>{const t=e.current;t&&l(t.getAttribute("role")||n)}),[n]),a}(p,d);let N;P&&(function(e){return"option"===e||"treeitem"===e}(A)||M&&function(e){return"option"===e||"tab"===e||"treeitem"===e||"gridcell"===e||"row"===e||"columnheader"===e||"rowheader"===e}(A))&&(N=!0);const F=rr(n,(e=>null!=c?c:e&&(null==v?void 0:v.ariaSetSize)&&v.baseElement===e.baseElement?v.ariaSetSize:void 0)),L=rr(n,(e=>{if(null!=u)return u;if(!e)return;if(!(null==v?void 0:v.ariaPosInSet))return;if(v.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===g));return v.ariaPosInSet+t.findIndex((e=>e.id===f))})),R=rr(n,(e=>!(null==e?void 0:e.renderedItems.length)||!e.virtualFocus&&(!!i||e.activeId===f)));return d=mt(dt({id:f,"aria-selected":N,"data-active-item":P?"":void 0},d),{ref:ln(p,d.ref),tabIndex:R?d.tabIndex:-1,onFocus:_,onBlurCapture:C,onKeyDown:I}),d=ma(d),d=fa(mt(dt({store:n},d),{getItem:E,shouldRegisterItem:!!f&&d.shouldRegisterItem})),mt(dt({},d),{"aria-setsize":F,"aria-posinset":L})}));wn((e=>yn("button",ga(e))));var ha=bn((e=>{var t=e,{store:n,value:a,hideOnClick:l,selectValueOnClick:o=!0,setValueOnClick:i,focusOnHover:s=!1,moveOnKeyPress:c=!0,getItem:u}=t,d=ft(t,["store","value","hideOnClick","selectValueOnClick","setValueOnClick","focusOnHover","moveOnKeyPress","getItem"]);const m=Pr();Vt(n=n||m,!1);const f=(0,r.useCallback)((e=>{const t=mt(dt({},e),{value:a});return u?u(t):t}),[a,u]),p=n.useState((e=>Array.isArray(e.selectedValue)));i=null!=i?i:!p,l=null!=l?l:null!=a&&!p;const v=d.onClick,g=un(i),h=un(o),E=un(l),w=an((e=>{null==v||v(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=Wt();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.tagName.toLowerCase();return"a"===r||"button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type}(e)||(null!=a&&(h(e)&&(null==n||n.setSelectedValue((e=>Array.isArray(e)?e.includes(a)?e.filter((e=>e!==a)):[...e,a]:a))),g(e)&&(null==n||n.setValue(a))),E(e)&&(null==n||n.move(null),null==n||n.hide()))})),y=d.onKeyDown,_=an((e=>{if(null==y||y(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState().baseElement;t&&(Bn(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),Ht(t)&&(null==n||n.setValue(t.value))))})),b=n.useState((e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,a)));p&&null!=b&&(d=dt({"aria-selected":b},d)),d=dn(d,(e=>(0,hn.jsx)(Fr.Provider,{value:a,children:(0,hn.jsx)(Lr.Provider,{value:null!=b&&b,children:e})})),[a,b]);const C=n.useState("contentElement");d=mt(dt({role:zt(C),children:a},d),{onClick:w,onKeyDown:_});const S=un(c);return d=ga(mt(dt({store:n},d),{getItem:f,moveOnKeyPress:e=>{if(!S(e))return!1;const t=new Event("combobox-item-move"),r=null==n?void 0:n.getState().baseElement;return null==r||r.dispatchEvent(t),!0}})),Kn(dt({store:n,focusOnHover:s},d))})),Ea=wn((e=>yn("div",ha(e))));function wa(e){return It(e).toLowerCase()}var ya=bn((e=>{var t=e,{store:n,value:a}=t,l=ft(t,["store","value"]);const o=Pr();n=n||o;const i=(0,r.useContext)(Fr),s=null!=a?a:i;Vt(n,!1);const c=n.useState((e=>s&&e.value?e.value:void 0)),u=(0,r.useMemo)((()=>s&&c?function(e,t){t=wa(t);let n=wa(e).indexOf(t);const r=[];for(;-1!==n;)0!==n&&r.push((0,hn.jsx)("span",{"data-autocomplete-value":"",children:e.substr(0,n)},r.length)),r.push((0,hn.jsx)("span",{"data-user-value":"",children:e.substr(n,t.length)},r.length)),n=wa(e=e.substr(n+t.length)).indexOf(t);return e&&r.push((0,hn.jsx)("span",{"data-autocomplete-value":"",children:e},r.length)),r}(s,c):s),[s,c]);return dt({children:u},l)})),_a=En((e=>yn("span",ya(e)))),ba=n(826),Ca=n.n(ba),Sa=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}));const{CompositeV2:xa,CompositeItemV2:ka,useCompositeStoreV2:Ia}=H(s.privateApis),Oa=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Circle,{cx:12,cy:12,r:3}));function Va(e=""){return Ca()(e.trim().toLowerCase())}function Pa({view:e,filter:t,onChangeView:n}){const a=Ia({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===t.operators?.length?void 0:null}),l=e.filters.find((e=>e.field===t.field)),o=l?.value;return(0,r.createElement)(xa,{store:a,role:"listbox",className:"dataviews-search-widget-listbox","aria-label":(0,i.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,i.__)("List of: %1$s"),t.name),onFocusVisible:()=>{a.getState().activeId||a.move(a.first())},render:(0,r.createElement)(Tn,{store:a})},t.elements.map((l=>(0,r.createElement)(Un,{store:a,key:l.value,render:(0,r.createElement)(ka,{render:(0,r.createElement)("div",{"aria-label":l.label,role:"option",className:"dataviews-search-widget-listitem"}),onClick:()=>{const r=e.filters.find((e=>e.field===t.field)),a=r?[...e.filters.map((e=>e.field===t.field?{...e,operator:r.operator||t.operators[0],value:l.value}:e))]:[...e.filters,{field:t.field,operator:t.operators[0],value:l.value}];n({...e,page:1,filters:a})}})},(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-check"},o===l.value&&(0,r.createElement)(s.Icon,{icon:Oa})),(0,r.createElement)("span",null,l.label,!!l.description&&(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-description"},l.description))))))}function Ma({view:e,filter:t,onChangeView:n}){const[a,o]=(0,l.useState)(""),c=(0,l.useDeferredValue)(a),u=e.filters.find((e=>e.field===t.field)),d=u?.value,m=(0,l.useMemo)((()=>{const e=Va(c);return t.elements.filter((t=>Va(t.label).includes(e)))}),[t.elements,c]);return(0,r.createElement)(Rr,{value:a,setSelectedValue:r=>{const a=e.filters.find((e=>e.field===t.field)),l=a?[...e.filters.map((e=>e.field===t.field?{...e,operator:a.operator||t.operators[0],value:r}:e))]:[...e.filters,{field:t.field,operator:t.operators[0],value:r}];n({...e,page:1,filters:l})},setValue:o},(0,r.createElement)("div",{className:"dataviews-search-widget-filter-combobox__wrapper"},(0,r.createElement)(Dr,{render:(0,r.createElement)(s.VisuallyHidden,null)},(0,i.__)("Search items")),(0,r.createElement)(na,{autoSelect:"always",placeholder:(0,i.__)("Search"),className:"dataviews-search-widget-filter-combobox__input"}),(0,r.createElement)("div",{className:"dataviews-search-widget-filter-combobox__icon"},(0,r.createElement)(s.Icon,{icon:Sa}))),(0,r.createElement)(ca,{className:"dataviews-search-widget-filter-combobox-list",alwaysVisible:!0},m.map((e=>(0,r.createElement)(Ea,{key:e.value,value:e.value,className:"dataviews-search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0},(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-check"},d===e.value&&(0,r.createElement)(s.Icon,{icon:Oa})),(0,r.createElement)("span",null,(0,r.createElement)(_a,{className:"dataviews-search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,r.createElement)("span",{className:"dataviews-search-widget-listitem-description"},e.description))))),!m.length&&(0,r.createElement)("p",null,(0,i.__)("No results found"))))}function Aa(e){const t=e.filter.elements.length>10?Ma:Pa;return(0,r.createElement)(t,{...e})}const Na=({activeElement:e,filterInView:t,filter:n})=>{if(void 0===e)return n.name;const a={Span1:(0,r.createElement)("span",{className:"dataviews-filter-summary__filter-text-name"}),Span2:(0,r.createElement)("span",{className:"dataviews-filter-summary__filter-text-value"})};return void 0!==e&&t?.operator===Fe?(0,l.createInterpolateElement)((0,i.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is Admin". */
(0,i.__)("<Span1>%1$s </Span1><Span2>is %2$s</Span2>"),n.name,e.label),a):void 0!==e&&t?.operator===Le?(0,l.createInterpolateElement)((0,i.sprintf)(/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not Admin". */
(0,i.__)("<Span1>%1$s </Span1><Span2>is not %2$s</Span2>"),n.name,e.label),a):(0,i.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,i.__)("Unknown status for %1$s"),n.name)};function Fa({filter:e,view:t,onChangeView:n}){const a=e.operators?.map((e=>({value:e,label:Re[e]?.label}))),l=t.filters.find((t=>t.field===e.field)),o=l?.operator||e.operators[0];return a.length>1&&(0,r.createElement)(s.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filter-summary__operators-container"},(0,r.createElement)(s.FlexItem,{className:"dataviews-filter-summary__operators-filter-name"},e.name),(0,r.createElement)(s.SelectControl,{label:(0,i.__)("Conditions"),value:o,options:a,onChange:r=>{const a=l?[...t.filters.map((t=>t.field===e.field?{...t,operator:r}:t))]:[...t.filters,{field:e.field,operator:r}];n({...t,page:1,filters:a})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0}))}function La({addFilterRef:e,openedFilter:t,...n}){const a=(0,l.useRef)(),{filter:o,view:c,onChangeView:u}=n,d=c.filters.find((e=>e.field===o.field)),m=o.elements.find((e=>e.value===d?.value)),f=o.isPrimary,p=void 0!==d?.value,v=!f||p;return(0,r.createElement)(s.Dropdown,{defaultOpen:t===o.field,contentClassName:"dataviews-filter-summary__popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{a.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,r.createElement)("div",{className:"dataviews-filter-summary__chip-container"},(0,r.createElement)(s.Tooltip,{text:(0,i.sprintf)(/* translators: 1: Filter name. */
(0,i.__)("Filter by: %1$s"),o.name.toLowerCase()),placement:"top"},(0,r.createElement)("div",{className:G()("dataviews-filter-summary__chip",{"has-reset":v,"has-values":p}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Me.ENTER,Me.SPACE].includes(e.keyCode)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:a},(0,r.createElement)(Na,{activeElement:m,filterInView:d,filter:o}))),v&&(0,r.createElement)(s.Tooltip,{text:f?(0,i.__)("Reset"):(0,i.__)("Remove"),placement:"top"},(0,r.createElement)("button",{className:G()("dataviews-filter-summary__chip-remove",{"has-values":p}),onClick:()=>{u({...c,page:1,filters:c.filters.filter((e=>e.field!==o.field))}),f?a.current?.focus():e.current?.focus()}},(0,r.createElement)(s.Icon,{icon:Je})))),renderContent:()=>(0,r.createElement)(s.__experimentalVStack,{spacing:0,justify:"flex-start"},(0,r.createElement)(Fa,{...n}),(0,r.createElement)(Aa,{...n}))})}const{DropdownMenuV2:Ra,DropdownMenuItemV2:Ta,DropdownMenuItemLabelV2:Da}=H(s.privateApis);var Ba=(0,l.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:a},l){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const o=e.filter((e=>!e.isVisible));return(0,r.createElement)(Ra,{trigger:(0,r.createElement)(s.Button,{__experimentalIsFocusable:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!o.length,ref:l},(0,i.__)("Add filter"))},o.map((e=>(0,r.createElement)(Ta,{key:e.field,onClick:()=>{a(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})}},(0,r.createElement)(Da,null,e.name)))))}));function Ha({filters:e,view:t,onChangeView:n}){const a=!t.search&&!t.filters?.some((t=>{return void 0!==t.value||(n=t.field,!e.some((e=>e.field===n&&e.isPrimary)));var n}));return(0,r.createElement)(s.Button,{disabled:a,__experimentalIsFocusable:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})}},(0,i.__)("Reset"))}const ja=(0,l.memo)((function({fields:e,view:t,onChangeView:n,openedFilter:a,setOpenedFilter:o}){const i=(0,l.useRef)(),c=[];e.forEach((e=>{if(!e.type)return;const n=ce(e);if(0!==n.length&&e.type===Ne){if(!e.elements?.length)return;const r=!!e.filterBy?.isPrimary;c.push({field:e.id,name:e.header,elements:e.elements,operators:n,isVisible:r||t.filters.some((t=>t.field===e.id&&[Fe,Le].includes(t.operator))),isPrimary:r})}})),c.sort(((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name)));const u=(0,r.createElement)(Ba,{key:"add-filter",filters:c,view:t,onChangeView:n,ref:i,setOpenedFilter:o}),d=[...c.map((e=>e.isVisible?(0,r.createElement)(La,{key:e.field,filter:e,view:t,onChangeView:n,addFilterRef:i,openedFilter:a}):null)),u];return d.length>1&&d.push((0,r.createElement)(Ha,{key:"reset-filters",filters:c,view:t,onChangeView:n})),(0,r.createElement)(s.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0},d)}));var za=ja;var Ka=(0,l.memo)((function({label:e,view:t,onChangeView:n}){const[a,o,c]=(0,q.useDebouncedInput)(t.search);(0,l.useEffect)((()=>{o(t.search)}),[t]);const u=(0,l.useRef)(n);(0,l.useEffect)((()=>{u.current=n}),[n]),(0,l.useEffect)((()=>{u.current({...t,page:1,search:c})}),[c]);const d=e||(0,i.__)("Search");return(0,r.createElement)(s.SearchControl,{__nextHasNoMarginBottom:!0,onChange:o,value:a,label:d,placeholder:d,size:"compact"})}));const Ua=e=>e.id,Wa=()=>{};function Ga({view:e,onChangeView:t,fields:n,search:a=!0,searchLabel:o,actions:i,data:c,getItemId:u=Ua,isLoading:d=!1,paginationInfo:m,supportedLayouts:f,onSelectionChange:p=Wa,onDetailsChange:v=null,deferredRendering:g=!1}){const[h,E]=(0,l.useState)([]),[w,y]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(h.length>0&&h.some((e=>!c.some((t=>u(t)===e))))){const e=h.filter((e=>c.some((t=>u(t)===e))));E(e),p(c.filter((t=>e.includes(u(t)))))}}),[h,c,u,p]);const _=(0,l.useCallback)((e=>{E(e.map((e=>u(e)))),p(e)}),[E,u,p]),b=He.find((t=>t.type===e.type)).component,C=(0,l.useMemo)((()=>n.map((e=>({...e,render:e.render||e.getValue})))),[n]),S=function(e,t){return(0,l.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&e.isEligible(t)))))),[e,t])}(i,c);return(0,r.createElement)("div",{className:"dataviews-wrapper"},(0,r.createElement)(s.__experimentalHStack,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions"},(0,r.createElement)(s.__experimentalHStack,{justify:"start",className:"dataviews-filters__container",wrap:!0},a&&(0,r.createElement)(Ka,{label:o,view:e,onChangeView:t}),(0,r.createElement)(za,{fields:C,view:e,onChangeView:t,openedFilter:w,setOpenedFilter:y})),[De,Be].includes(e.type)&&S&&(0,r.createElement)(Ee,{actions:i,data:c,onSelectionChange:_,selection:h,getItemId:u}),(0,r.createElement)(Xe,{fields:C,view:e,onChangeView:t,supportedLayouts:f})),(0,r.createElement)(b,{fields:C,view:e,onChangeView:t,actions:i,data:c,getItemId:u,isLoading:d,onSelectionChange:_,onDetailsChange:v,selection:h,deferredRendering:g,setOpenedFilter:y}),(0,r.createElement)(R,{view:e,onChangeView:t,paginationInfo:m}))}var qa;function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(this,arguments)}var Qa=function(e){return r.createElement("svg",$a({xmlns:"http://www.w3.org/2000/svg",width:341.333,height:341.333,viewBox:"0 0 256 256"},e),qa||(qa=r.createElement("path",{fill:"#9b51e0",d:"M0 128v128h256V0H0v128zm145.6-66.6c2.9.7 7.8 2.8 11.1 4.5 6.7 3.6 18.3 14.6 16.8 16-2.6 2.3-31.9 23.1-32.6 23.1-.5 0-.9-.5-.9-1 0-.6-1.1-2.2-2.5-3.5-3-3.1-8.3-3.3-11.6-.6-2.2 1.8-2.4 2.7-2.7 14l-.4 12.1H136v37h-13v34H82v-44.8c0-35.5.3-46.1 1.5-51.7 3.9-18.6 18.2-34.2 35.6-38.9 6.9-1.9 19.9-2 26.5-.2z"})))};function Za({title:e,className:t,children:n}){return(0,r.createElement)("div",{className:"masthead"},(0,r.createElement)("div",{className:`inner-container ${t}`},(0,r.createElement)(s.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"masthead__branding"},(0,r.createElement)(Qa,null),(0,r.createElement)("h1",null,e),n)))}const Ya=[],Xa=[{value:"draft",label:(0,i.__)("Draft")},{value:"future",label:(0,i.__)("Scheduled")},{value:"pending",label:(0,i.__)("Pending Review")},{value:"private",label:(0,i.__)("Private")},{value:"publish",label:(0,i.__)("Published")},{value:"trash",label:(0,i.__)("Trash")}],Ja=()=>{const e=M(),[t,n]=(0,l.useState)({type:"table",filters:[],page:1,perPage:10,sort:{field:"date",direction:"desc"},search:"",hiddenFields:["shortcode"],layout:{}}),a=(0,l.useMemo)((()=>{const e={};return t.filters.forEach((t=>{"status"===t.field&&"in"===t.operator&&(e.status=t.value),"author"===t.field&&"in"===t.operator?e.author=t.value:"author"===t.field&&"notIn"===t.operator&&(e.author_exclude=t.value)})),e.status&&""!==e.status||(e.status="draft,future,pending,private,publish"),{per_page:t.perPage,page:t.page,_embed:"author",order:t.sort?.direction,orderby:t.sort?.field,search:t.search,...e}}),[t]),{records:p,isResolving:E,totalItems:y,totalPages:_}=(0,c.useEntityRecords)("postType","formello_form",a),{records:b,isResolving:C}=(0,c.useEntityRecords)("root","user"),S=(0,l.useMemo)((()=>({totalItems:y,totalPages:_})),[y,_]),x=(0,l.useMemo)((()=>[{header:(0,i.__)("Title"),id:"title",getValue:({item:e})=>e.title?.rendered,render:({item:e})=>(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.Button,{variant:"link",onClick:()=>{const t=(0,m.addQueryArgs)("post.php",{post:e.id,action:"edit"});document.location.href=t}},(0,u.decodeEntities)(e.title?.rendered||e.slug)||(0,i.__)("(no title)")),e.submissions_count.news>0&&(0,r.createElement)("span",{className:"badge"},e.submissions_count.news)),maxWidth:300,enableHiding:!1},{header:(0,i.__)("Author"),id:"author",getValue:({item:e})=>e._embedded?.author[0]?.name,type:"enumeration",elements:b?.map((({id:e,name:t})=>({value:e,label:t})))||[]},{header:(0,i.__)("Status"),id:"status",getValue:({item:e})=>{var t;return null!==(t=Xa.find((({value:t})=>t===e.status))?.label)&&void 0!==t?t:e.status},type:"enumeration",elements:Xa,enableSorting:!1},{header:(0,i.__)("Date"),id:"date",render:({item:e})=>{const t=(0,d.dateI18n)((0,d.getSettings)().formats.datetimeAbbreviated,(0,d.getDate)(e.date));return(0,r.createElement)("time",null,t)}},{header:"Shortcode",id:"shortcode",getValue:({item:e})=>e.id,render:({item:e})=>(0,r.createElement)("code",null,`[formello id=${e.id}]`),enableSorting:!0}]),[b]),k=function(){const{createSuccessNotice:e,createErrorNotice:t}=(0,o.useDispatch)(f.store),{deleteEntityRecord:n}=(0,o.useDispatch)(c.store);return(0,l.useMemo)((()=>({id:"permanently-delete",label:(0,i.__)("Permanently delete"),isPrimary:!0,icon:v,isEligible({status:e}){return"trash"===e},async callback(r){try{await n("postType",r.type,r.id,{force:!0},{throwOnError:!0}),e((0,i.sprintf)(/* translators: The posts's title. */
(0,i.__)('"%s" permanently deleted.'),(0,u.decodeEntities)(r.title.rendered)),{type:"snackbar",id:"edit-site-post-permanently-deleted"})}catch(e){const n=e.message&&"unknown_error"!==e.code?e.message:(0,i.__)("An error occurred while permanently deleting the post.");t(n,{type:"snackbar"})}}})),[e,t,n])}(),I=function(){const{createSuccessNotice:e,createErrorNotice:t}=(0,o.useDispatch)(f.store),{editEntityRecord:n,saveEditedEntityRecord:r}=(0,o.useDispatch)(c.store);return(0,l.useMemo)((()=>({id:"restore",label:(0,i.__)("Restore"),isPrimary:!0,icon:g,isEligible({status:e}){return"trash"===e},async callback(a){await n("postType",a.type,a.id,{status:"draft"});try{await r("postType",a.type,a.id,{throwOnError:!0}),e((0,i.sprintf)(/* translators: The posts's title. */
(0,i.__)('"%s" has been restored.'),(0,u.decodeEntities)(a.title.rendered)),{type:"snackbar",id:"edit-site-post-restored"})}catch(e){const n=e.message&&"unknown_error"!==e.code?e.message:(0,i.__)("An error occurred while restoring the post.");t(n,{type:"snackbar"})}}})),[e,t,n,r])}(),O=(0,l.useMemo)((()=>({id:"edit-post",label:(0,i.__)("Edit"),isEligible({status:e}){return"trash"!==e},callback(e){const t=(0,m.addQueryArgs)("post.php",{post:e.id,action:"edit"});document.location.href=t}})),[]),V=(0,l.useMemo)((()=>[{id:"view-submissions",label:(0,i.__)("View Submissions","formello"),isPrimary:!0,icon:w,callback(t){const n=t[0];e.push({page:"formello",section:"submissions",form_id:n.id})}},h,I,k,O]),[k,I,O,e]);return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(Za,{title:(0,i.__)("Forms"),className:"full-width"},(0,r.createElement)(s.Button,{variant:"primary",size:"small",href:"post-new.php?post_type=formello_form"},(0,i.__)("Add new"))),(0,r.createElement)("div",{className:"formello-content"},(0,r.createElement)(s.Card,null,(0,r.createElement)(Ga,{paginationInfo:S,fields:x,actions:V,data:p||Ya,isLoading:E||C,view:t,onChangeView:n,supportedLayouts:["table"]}))))};var el=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M6 5V18.5911L12 13.8473L18 18.5911V5H6Z"})),tl=(0,r.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(p.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),nl=(0,r.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(p.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"}));const rl={id:"move-to-trash",label:(0,i.__)("Move to Trash"),isPrimary:!0,isBulk:!0,icon:v,isEligible({status:e}){return"trash"!==e},hideModalHeader:!0,RenderModal:({items:e,closeModal:t})=>{const{createSuccessNotice:n,createErrorNotice:a}=(0,o.useDispatch)(f.store),{deleteEntityRecord:l}=(0,o.useDispatch)(c.store);return(0,r.createElement)(s.__experimentalVStack,{spacing:"5"},(0,r.createElement)(s.__experimentalText,null,e.length>1?(0,i.sprintf)(
// translators: %s: The number of submissions (always plural).
(0,i.__)("Are you sure you want to delete %s submissions?"),(0,u.decodeEntities)(e.length)):(0,i.sprintf)(
// translators: %s: The page's title.
(0,i.__)("Are you sure you want to delete submission N° %s?"),(0,u.decodeEntities)(e&&e[0]?.id))),(0,r.createElement)(s.__experimentalHStack,{justify:"right"},(0,r.createElement)(s.Button,{variant:"tertiary",onClick:t},(0,i.__)("Cancel")),(0,r.createElement)(s.Button,{variant:"primary",onClick:async()=>{try{await Promise.all(e.map((async e=>{l("formello/v1","submissions",e.id,{},{throwOnError:!0})}))),n(e.length>1?(0,i.__)("The selected submissions were moved to the trash."):(0,i.sprintf)(/* translators: The page's title. */
(0,i.__)('"%s" moved to the Trash.'),(0,u.decodeEntities)(e[0].title.rendered)),{type:"snackbar",id:"edit-site-page-trashed"})}catch(t){const n=t.message&&"unknown_error"!==t.code?t.message:_n("An error occurred while moving the page to the trash.","An error occurred while moving the pages to the trash.",e.length);a(n,{type:"snackbar"})}}},(0,i.__)("Delete"))))}},al=[],ll={list:{}},ol=[{value:"starred",label:(0,i.__)("Favorites")},{value:"is_new",label:(0,i.__)("Unread")}],il=()=>{const e=M(),{params:t}=P(),[n,a]=(0,l.useState)({type:"table",filters:[{field:"status",operator:"isAny",value:"all"}],page:1,perPage:10,sort:{field:"submitted_at",direction:"desc"},search:"",visibleFilters:["status"],hiddenFields:["id"],layout:{}}),m=(0,l.useMemo)((()=>{const e={};return n.filters.forEach((t=>{"status"===t.field&&"isAny"===t.operator&&(e.status=t.value)})),e.status&&"all"!==e.status||(e.status=""),{id:t.form_id,per_page:n.perPage,page:n.page,order:n.sort?.direction,orderby:n.sort?.field,search:n.search,...e}}),[n,t]),f=(0,c.useEntityRecords)("formello/v1","submissions",m),p=(0,c.useEntityRecord)("formello/v1","columns",t.form_id),{record:v}=(0,c.useEntityRecord)("postType","formello_form",t.form_id),g=(0,l.useCallback)((()=>p.hasResolved?p.record.columns:[]),[p]),h=(0,l.useMemo)((()=>({totalItems:v?.submissions_count.total,totalPages:Math.ceil(v?.submissions_count.total/n.perPage)})),[v,n]),E=(0,l.useMemo)((()=>{const t=[{header:(0,i.__)("Status"),id:"status",getValue:({item:e})=>e.id,render:({item:e})=>(0,r.createElement)(s.__experimentalVStack,{spacing:1},parseInt(e.details.is_new)&&(0,r.createElement)(s.Icon,{icon:el,label:"Is new"}),parseInt(e.details.starred)&&(0,r.createElement)(s.Icon,{icon:tl})),filters:["isAny"],elements:ol,maxWidth:25,width:25,enableHiding:!1,enableSorting:!1},{header:"#",id:"id",getValue:({item:e})=>e.id,render:({item:t})=>(0,r.createElement)(s.Button,{variant:"link",text:t.id,onClick:()=>e.push({page:"formello",section:"submission",form_id:t.id})}),maxWidth:25,width:25,enableHiding:!0,enableSorting:!0}],n=g(),a=n?.map((e=>({accessor:e,id:e,header:e.replaceAll("_"," ").toUpperCase(),getValue:t=>t[e],filters:[{id:"search",type:"search"}],render:({item:t})=>{if("submitted_at"===e){const e=(0,d.dateI18n)((0,d.getSettings)().formats.datetimeAbbreviated,(0,d.getDate)(t.details.submitted_at));return(0,r.createElement)("time",null,e)}return(0,r.createElement)(s.__experimentalText,{numberOfLines:4,truncate:!0},(0,u.decodeEntities)(t.fields[e]))},enableSorting:!0,maxWidth:400,width:200})));return t.concat(a)}),[e,g]),w=(0,l.useCallback)((e=>{let t="function"==typeof e?e(n):e;t.type!==n.type&&(t={...t,layout:{...ll[t.type]}}),a(t)}),[n]),{saveEntityRecord:y}=(0,o.useDispatch)(c.store),_=(0,l.useMemo)((()=>[rl,{id:"view-submission",label:(0,i.__)("View Submission","formello"),isPrimary:!0,icon:nl,callback(t){const n=t[0];e.push({page:"formello",section:"submission",submission_id:n.id})}},{id:"mark-as-starred",label:(0,i.__)("Toggle favorite"),isPrimary:!1,isBulk:!0,isEligible:()=>!0,icon:tl,callback:e=>{const t=e[0];y("formello/v1","submissions",{id:t.id,details:{starred:!parseInt(t.details.starred)}})}},{id:"mark-as-new",label:(0,i.__)("Toggle new"),isPrimary:!1,isBulk:!0,icon:el,callback:e=>{const t=e[0];y("formello/v1","submissions",{id:t.id,details:{is_new:!parseInt(t.details.is_new)}})}}]),[e,y]);return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(Za,{title:(0,i.__)("Submissions","formello"),className:"full-width"},(0,r.createElement)(s.Button,{variant:"primary",size:"small",icon:"arrow-left",onClick:()=>e.push({page:"formello"})},(0,i.__)("Go back","formello"))),(0,r.createElement)("div",{className:"formello-content"},(0,r.createElement)(s.Card,null,(0,r.createElement)(Ga,{paginationInfo:h,fields:E,actions:_,data:f.records||al,isLoading:f.isResolving,view:n,onChangeView:w,supportedLayouts:["table"]}))))};function sl(e){const{data:t}=e,{formats:n}=(0,d.getSettings)(),a=(0,m.addQueryArgs)("post.php",{post:t.form_id,action:"edit"}),{record:l}=(0,c.useEntityRecord)("postType","formello_form",t.form_id);return(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Submission data","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("table",null,(0,r.createElement)("tbody",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",null,(0,i.__)("Submission ID","formello")),(0,r.createElement)("td",null,t.id)),(0,r.createElement)("tr",null,(0,r.createElement)("th",null,(0,i.__)("Form ID","formello")),(0,r.createElement)("td",null,(0,r.createElement)(s.ExternalLink,{href:a},l?.title.raw||(0,i.__)("(No title)","formello")))),(0,r.createElement)("tr",null,(0,r.createElement)("th",null,"Timestamp"),(0,r.createElement)("td",null,(0,d.dateI18n)(n.datetime,t.submitted_at))),(0,r.createElement)("tr",null,(0,r.createElement)("th",null,"Referrer URL"),(0,r.createElement)("td",null,(0,r.createElement)(s.ExternalLink,{href:t.referer_url},t.referer_url))),(0,r.createElement)("tr",null,(0,r.createElement)("th",null,"IP"),(0,r.createElement)("td",null,t.ip_address)),(0,r.createElement)("tr",null,(0,r.createElement)("th",null,"User Agent"),(0,r.createElement)("td",null,t.user_agent))))))}function cl(e){const{data:t}=e;return(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Fields","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("table",null,(0,r.createElement)("tbody",null,Object.keys(t).map(((e,n)=>{const a="string"!=typeof t[e]?JSON.stringify(t[e]):t[e];return(0,r.createElement)("tr",{key:n},(0,r.createElement)("th",null,e.replaceAll("_"," ").toUpperCase()),(0,r.createElement)("td",null,(0,r.createElement)(l.RawHTML,null,"null"===a?"":(0,u.decodeEntities)(a))))}))))))}const ul=()=>{const e=M(),{params:t}=P(),n=(0,c.useEntityRecord)("formello/v1","submissions",t.submission_id||(0,m.getQueryArg)(window.location.href,"submission_id")),{saveEntityRecord:a}=(0,o.useDispatch)(c.store);return(0,l.useEffect)((()=>{parseInt(n.record?.details.is_new)&&a("formello/v1","submissions",{id:n.record.id,details:{is_new:!1}})}),[]),"ERROR"===n.status?(0,r.createElement)(s.Notice,{status:"warning",isDismissible:!1},(0,r.createElement)("p",null,(0,i.__)("Submission Not Found.","formello")),(0,r.createElement)(s.Button,{variant:"primary",size:"small",icon:"arrow-left",onClick:()=>{e.push({page:"formello",section:"submissions"})}},(0,i.__)("Go back","formello"))):(0,r.createElement)(l.Fragment,null,(0,r.createElement)(Za,{title:(0,i.sprintf)(/* Translators: %d The submission id. */
(0,i.__)("Submission %d","formello"),t.submission_id),className:"full-width"},(0,r.createElement)(s.Button,{variant:"primary",size:"small",icon:"arrow-left",onClick:()=>{e.push({page:"formello",section:n.record?.details.form_id?"submissions":"",form_id:n.record?.details.form_id})}},(0,i.__)("Go back","formello"))),n.isResolving&&(0,r.createElement)(s.Spinner,null),n.hasResolved&&(0,r.createElement)("div",{className:"formello-submission"},(0,r.createElement)(s.__experimentalGrid,{columns:4,templateColumns:"3fr 1fr",gap:"4",className:"formello-content"},(0,r.createElement)("div",{className:"first-column"},(0,r.createElement)(cl,{data:n.record.fields})),(0,r.createElement)(sl,{data:n.record.details}))))};var dl=window.wp.hooks;function ml(){return(0,r.createElement)("div",{className:"ads-container"},(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Need help?","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("p",null,(0,i.__)("Detailed documentation is available on the plugin website.","formello")),(0,r.createElement)(s.ExternalLink,{href:"https://docs.formello.net"},(0,i.__)("Documentation","formello")),(0,r.createElement)("p",null,(0,i.__)("We would love to help you out if you need any help.","formello")),(0,r.createElement)(s.ExternalLink,{href:"https://wordpress.org/support/plugin/formello/"},(0,i.__)("Ask a question","formello")))),(0,r.createElement)(s.Card,{className:"ads-container__reviews"},(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Do you like the plugin?","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("p",null,(0,i.__)("If you like Formello plugin you can share a review to help us and spread some love!","formello")),(0,r.createElement)(s.ExternalLink,{href:"https://wordpress.org/support/plugin/formello/reviews/#new-post"},(0,i.__)("Rate 5 stars!","formello")))))}var fl=window.wp.apiFetch,pl=n.n(fl);const vl=(0,l.createContext)();var gl=function(e){const[t,n]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),{record:u,isResolving:d,hasResolved:f}=(0,c.useEntityRecord)("root","site"),{saveEntityRecord:p}=(0,o.useDispatch)(c.store);(0,l.useEffect)((()=>{u&&n(u.formello)}),[u]);const v=(0,s.__experimentalUseNavigator)(),g=e=>{const t=(0,m.removeQueryArgs)(window.location.href,"page","tab","id"),n=(0,m.getQueryArg)(e.detail,"page"),r=new URL(t);r.searchParams.set("page",n),window.history.pushState({page:n},"",r.toString()),v.goTo("/"+n)},h=e=>{const t=(0,m.removeQueryArgs)(e.target.location.href,"tab"),n=(0,m.getQueryArg)(t,"page");v.goTo("/"+n)};return(0,l.useEffect)((()=>(window.addEventListener("changePage",g),window.addEventListener("popstate",h),()=>{window.removeEventListener("changePage",g),window.removeEventListener("popstate",h)})),[]),(0,r.createElement)(vl.Provider,{value:{isLoadingSettings:d,ready:f,settings:t,saveSettings:()=>p("root","site",{formello:t}),updateSetting:(e,r)=>{n({...t,[e]:r}),i(!0)},hasUpdates:a}},e.children)};function hl(){var e;const{settings:t,updateSetting:n}=(0,l.useContext)(vl),a=(0,l.useRef)(null!==(e=t.license?.license_key?.key)&&void 0!==e?e:""),[o,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),f=(e="activate")=>{c(!0),pl()({path:"/formello/v1/license/"+e,method:"POST",data:{license:a.current}}).then((e=>{e.response?.success&&n("license",e.response.license),e.success||m(e.response)})).finally((()=>c(!1)))};return(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("License","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)(s.ExternalLink,{href:"https://formello.net"},(0,i.__)("Get a PRO License","formello")),(0,r.createElement)(l.RawHTML,null,(0,i.__)("<p>Your <strong>pro license</strong> key provides access to addons. You can still using Formello without a license key.</p>","formello")),(0,r.createElement)(s.__experimentalInputControl,{type:"text",autoComplete:"new-password",label:(0,i.__)("License Key","formello"),value:a.current,onChange:e=>a.current=e,suffix:(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.Button,{isBusy:o,"aria-disabled":o,disabled:o,text:(0,i.__)("check","formello"),onClick:()=>f("validate")}),(0,r.createElement)(s.Button,{variant:"primary",isBusy:o,"aria-disabled":o||""===a,disabled:o||""===a,text:(0,i.__)("Activate","formello"),onClick:()=>f()}))}),u&&(0,r.createElement)(s.Notice,{isDismissible:!1,className:"active"===t.license?.license_key?.status?"success":"warning",status:"active"===t.license?.license_key?.status?"success":"warning"},(0,r.createElement)(l.RawHTML,null,u)),t?.license?.license_key?.status&&(0,r.createElement)(s.Notice,{isDismissible:!1,status:"active"===t.license?.license_key?.status?"success":"warning"},(0,r.createElement)(l.RawHTML,null,(0,i.sprintf)(/* translators: %s: License status. */
(0,i.__)("<p>License status: <b>%1$s</b>. Expires: %2$s</p>","formello"),t.license.license_key.status,(0,i.__)("Never","tropical-juice")!==t.license.license_key.expires_at?(0,d.dateI18n)("d M, Y",t.license.license_key.expires_at):(0,i.__)("Never","tropical-juice"))))))}function El(){const{settings:e,updateSetting:t}=(0,l.useContext)(vl),n=e.reCaptcha,a=e.hCaptcha;function o(n,r,a){const l=Object.assign({},e[a]);l[n]=r,t(a,l)}return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Google reCaptcha","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)(s.__experimentalVStack,null,(0,r.createElement)(s.RadioControl,{selected:n.version,options:[{label:(0,i.__)("v2 checkbox","formello"),value:"1"},{label:(0,i.__)("v3 invisible","formello"),value:"3"}],onChange:e=>{o("version",e,"reCaptcha")}}),(0,r.createElement)(s.TextControl,{label:(0,i.__)("Site Key","formello"),value:n.site_key,onChange:e=>{o("site_key",e,"reCaptcha")}}),(0,r.createElement)(s.TextControl,{label:(0,i.__)("Secret Key","formello"),value:n.secret_key,onChange:e=>{o("secret_key",e,"reCaptcha")}}),3===Number(n.version)&&(0,r.createElement)(s.TextControl,{label:(0,i.__)("Threshold","formello"),value:n.threshold,onChange:e=>{o("threshold",e,"reCaptcha")},type:"number",step:"0.1",min:"0",max:"1"})))),(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("hCaptcha","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)(s.__experimentalVStack,null,(0,r.createElement)(s.RadioControl,{selected:a?.version,options:[{label:(0,i.__)("checkbox","formello"),value:"checkbox"},{label:(0,i.__)("invisible","formello"),value:"invisible"}],onChange:e=>{o("version",e,"hCaptcha")}}),(0,r.createElement)(s.TextControl,{label:(0,i.__)("Site Key","formello"),value:a?.site_key,onChange:e=>{o("site_key",e,"hCaptcha")}}),(0,r.createElement)(s.TextControl,{label:(0,i.__)("Secret Key","formello"),value:a?.secret_key,onChange:e=>{o("secret_key",e,"hCaptcha")}}),(0,r.createElement)(s.TextControl,{label:(0,i.__)("Threshold","formello"),value:n.threshold,onChange:e=>{o("threshold",e,"hCaptcha")},type:"number",step:"0.1",min:"0",max:"1"})))))}function wl(){const{settings:e,updateSetting:t}=(0,l.useContext)(vl),n=e.messages;function a(e,r,a){const l=Object.assign({},n);l[e][r]=a,t("messages",l)}const o=Object.keys(n.form),c=Object.keys(n.missingValue),u=Object.keys(n.patternMismatch),d=Object.keys(n.outOfRange),m=Object.keys(n.wrongLength);return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Form messages","formello"))),(0,r.createElement)(s.CardBody,null,o.map(((e,t)=>(0,r.createElement)(l.Fragment,{key:t},(0,r.createElement)(s.TextControl,{label:e,value:n.form[e],onChange:t=>{a("form",e,t)}})))))),(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Missing value","formello"))),(0,r.createElement)(s.CardBody,null,c.map(((e,t)=>(0,r.createElement)(l.Fragment,{key:t},(0,r.createElement)(s.TextControl,{label:e,value:n.missingValue[e],onChange:t=>{a("missingValue",e,t)}})))))),(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Pattern mismatch","formello"))),(0,r.createElement)(s.CardBody,null,u.map(((e,t)=>(0,r.createElement)(s.TextControl,{key:t,label:e,value:n.patternMismatch[e],onChange:t=>{a("patternMismatch",e,t)}}))))),(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Out of range","formello"))),(0,r.createElement)(s.CardBody,null,d.map(((e,t)=>(0,r.createElement)(s.TextControl,{key:t,label:e,value:n.outOfRange[e],onChange:t=>{a("outOfRange",e,t)}}))))),(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Wrong length","formello"))),(0,r.createElement)(s.CardBody,null,m.map(((e,t)=>(0,r.createElement)(s.TextControl,{key:t,label:e,value:n.wrongLength[e],onChange:t=>{a("wrongLength",e,t)}}))))))}var yl=(0,s.withFilters)("formello.settings.integrations")((()=>{const e=(0,s.__experimentalUseNavigator)();return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Integrations","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("p",null,(t=(0,i.__)("Go to <a /> to enable your preferred integrations.","formello"),(0,l.createInterpolateElement)(t,{a:(0,r.createElement)(s.Button,{text:(0,i.__)("addons page","search-console"),onClick:()=>{window.dispatchEvent(new CustomEvent("changePage",{detail:"?page=formello-addons"})),e.goTo("/formello-addons/general")},variant:"link"})}))))));var t})),_l=()=>{const{settings:e,updateSetting:t}=(0,l.useContext)(vl),n=e.log;return(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Logging","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("p",null,(0,i.__)("Enable logging can hurt site performance. Please activate logging only for debug purpose.","formello")),(0,r.createElement)(s.ToggleControl,{label:(0,i.__)("Enable log","formello"),checked:n,onChange:e=>t("log",e)}),n&&(0,r.createElement)(s.ExternalLink,{href:"/wp-content/uploads/formello/logs/"+e.log_file},(0,i.__)("View log","formello"))))};function bl(e){const{handleClose:t,message:n,messageType:a}=e;return(0,l.useEffect)((()=>{let e;return n&&(e=setTimeout((()=>{t(!1)}),3e3)),()=>{clearTimeout(e)}}),[n]),(0,r.createElement)(s.Animate,{type:"slide-in",options:{origin:"top"}},(({animateClassName:e})=>(0,r.createElement)("span",{className:G()("formello-message",e,a,{show:n})},n)))}function Cl(e){const{req:t,withNotice:n,text:a,disabled:o,variant:c,isDestructive:u=!1,withConfirm:d=!1,confirmMessage:m=(0,i.__)("Are you sure?","formello")}=e,[f,p]=(0,l.useState)(!1),[v,g]=(0,l.useState)(!1),[h,E]=(0,l.useState)(!1),w=()=>{E(!0),p(!1),t().then((e=>{g(e?.success?{type:e.success?"success":"error",message:e.response}:{type:"success",message:(0,i.__)("Settings saved.","formello")})})).catch((e=>{g({type:"error",message:e.message})})).finally((()=>E(!1)))};return(0,r.createElement)(l.Fragment,null,(0,r.createElement)("div",{className:"setting-controls__save-settings"},(0,r.createElement)(s.Button,{onClick:()=>{d?p(!0):w()},isBusy:h,disabled:o||h,"aria-disabled":o||h,variant:c,isDestructive:u},a),v&&!n&&(0,r.createElement)(bl,{message:v.message,messageType:v.type,handleClose:g,key:"message"}),(0,r.createElement)(s.__experimentalConfirmDialog,{isOpen:f,onConfirm:w,onCancel:()=>p(!1)},m)),v&&n&&(0,r.createElement)(s.Animate,{type:"slide-in",options:{origin:"top"},key:"loading"},(({className:e})=>(0,r.createElement)(s.Notice,{status:v.type,onRemove:()=>g(!1),isDismissible:!0,className:G()("message",e)},(0,r.createElement)(l.RawHTML,null,v.message)))))}function Sl({text:e}){return(0,r.createElement)("div",{className:"loading-settings"},(0,r.createElement)(s.Spinner,null),(0,r.createElement)("span",{className:"description"},e))}function xl(){const{isLoadingSettings:e,settings:t,hasUpdates:n,saveSettings:a}=(0,l.useContext)(vl),{params:o}=(0,s.__experimentalUseNavigator)(),c=o.tab||"general",u=[{name:"general",title:(0,i.__)("General","formello"),component:hl},{name:"captcha",title:"Captcha",component:El},{name:"messages",title:(0,i.__)("Messages","formello"),component:wl},{name:"integrations",title:(0,i.__)("Integrations","formello"),component:yl},{name:"logging",title:"Logging",component:_l}];return e||!t?(0,r.createElement)(Sl,{text:(0,i.__)("Fetching data…","search-console")}):(0,r.createElement)(l.Fragment,null,(0,r.createElement)(Za,{title:(0,i.__)("Settings","formello")}),(0,r.createElement)("div",{className:"setting-tabs"},(0,dl.applyFilters)("formello.dashboard.beforeSettings","",this),(0,r.createElement)(s.TabPanel,{tabs:u,initialTabName:c},(e=>{const t=e.component;return(0,r.createElement)(s.__experimentalGrid,{columns:4,templateColumns:"3fr 1fr",gap:"4"},(0,r.createElement)("div",null,(0,r.createElement)(t,null),("general"===e.name||"captcha"===e.name||"messages"===e.name||"logging"===e.name)&&(0,r.createElement)(Cl,{req:a,text:(0,i.__)("Save options","formello"),disabled:!n,variant:"primary"})),(0,r.createElement)(ml,null))})),(0,dl.applyFilters)("formello.dashboard.settings","",this),(0,dl.applyFilters)("formello.dashboard.afterSettings","",this)))}function kl(){return(0,r.createElement)(l.Fragment,null,(0,r.createElement)("p",null,(0,i.__)("If you need to reset template library.","formello")),(0,r.createElement)(Cl,{req:()=>pl()({path:"/formello/v1/sync_template_library",method:"POST",data:{type:"formello_form",categories:"form"}}),text:(0,i.__)("Re-Sync template","formello"),variant:"primary"}))}function Il(){return(0,r.createElement)(l.Fragment,null,(0,r.createElement)("p",null,(0,i.__)("If you need to reset settings.","formello")),(0,r.createElement)(Cl,{req:()=>pl()({path:"/formello/v1/settings/reset",method:"POST"}),text:(0,i.__)("Reset settings","formello"),isDestructive:!0,variant:"secondary",withConfirm:!0,confirmMessage:(0,i.__)("This will reset all your settings. Are you sure?","formello")}))}function Ol(){return(0,r.createElement)("div",null,(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("General","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)(kl,null),(0,r.createElement)(s.CardDivider,null),(0,r.createElement)(Il,null))))}function Vl(){const[e,t]=(0,l.useState)(!1),n=(0,d.dateI18n)("",new Date);return(0,r.createElement)(s.Button,{onClick:()=>(t(!0),pl()({path:"/formello/v1/templates/export",method:"POST",parse:!1}).then((e=>e.blob())).then((e=>{const t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`forms-exported-${n}.json`,document.body.appendChild(r),r.click(),r.remove()})).catch((()=>t(!1))).finally((()=>t(!1)))),text:(0,i.__)("Export forms","formello"),variant:"primary",isBusy:e,disabled:e})}window.wp.blob;var Pl=(0,s.withFilters)("formello.settings.exporter")((()=>(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Export Forms","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("p",null,(0,i.__)("When you click the download button below, Formello will create a JSON file for you to save to your computer. Once you've saved the downloaded file, you can use the Import tool to import the forms.","formello")),(0,r.createElement)(Vl,null)))));function Ml(){const[e,t]=(0,l.useState)(!1);return(0,r.createElement)(l.Fragment,null,(0,r.createElement)("div",{className:"setting-controls__save-settings"},(0,r.createElement)(s.FormFileUpload,{accept:"application/json",onChange:e=>t(e.target.files),variant:"secondary"},(0,i.__)("Choose file","formello")),e&&e[0]?.name),(0,r.createElement)(Cl,{req:()=>{const n=new FormData;return n.append("file",e[0]),pl()({path:"/formello/v1/templates/import",method:"POST",body:n}).finally((()=>t(!1)))},text:(0,i.__)("Import forms","formello"),variant:"primary",disabled:!e}))}function Al(){return(0,r.createElement)("div",null,(0,r.createElement)(s.Card,null,(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,(0,i.__)("Importers","formello"))),(0,r.createElement)(s.CardBody,null,(0,r.createElement)("p",null,(0,i.__)("Select the Formello export file(.json) you would like to import.\n\t\t\t\t\t\t \tWhen you click the import button below, Formello will import the forms.","formello")),(0,r.createElement)(Ml,null))),(0,dl.applyFilters)("formello.Importer","",this))}function Nl(){const e=[{name:"general",title:(0,i.__)("General","formello"),component:Ol},{name:"exporters",title:(0,i.__)("Exporters","formello"),component:Pl},{name:"importers",title:(0,i.__)("Importers","formello"),component:Al}];(0,dl.applyFilters)("formello.ToolsTabs","",e);const{params:t}=(0,s.__experimentalUseNavigator)(),n=t.tab||"general";return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(Za,{title:(0,i.__)("Tools","formello")}),(0,r.createElement)("div",{className:"setting-tabs"},(0,dl.applyFilters)("formello.dashboard.beforeSettings","",this),(0,r.createElement)(s.TabPanel,{tabs:e,initialTabName:n},(e=>{const t=e.component;return(0,r.createElement)(s.__experimentalGrid,{columns:4,templateColumns:"3fr 1fr",gap:"4"},(0,r.createElement)("div",null,(0,r.createElement)(t,null)),(0,r.createElement)(ml,null))})),(0,dl.applyFilters)("formello.dashboard.settings","",this),(0,dl.applyFilters)("formello.dashboard.afterSettings","",this)))}function Fl(e){const{settings:t,updateSetting:a}=(0,l.useContext)(vl),{addon:u}=e,[d,m]=(0,l.useState)(!1),{saveEntityRecord:f}=(0,o.useDispatch)(c.store),p=(0,c.useEntityRecord)("root","plugin","popper/popper"),v=(0,c.useEntityRecord)("root","plugin","formello-pro/formello-pro"),{isInstalling:g}=(0,o.useSelect)((e=>({isInstalling:e(c.store).isSavingEntityRecord("root","plugin","popper/popper")})),[]);return(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.Card,{className:"addon"},(0,r.createElement)(s.CardHeader,null,(0,r.createElement)("h2",null,u.title)),(0,r.createElement)(s.CardBody,null,(0,r.createElement)(s.CardMedia,{as:"aside"},(0,r.createElement)("img",{src:n(269)(`./${u.slug}.png`),alt:u.title})),(0,r.createElement)("p",null,u.excerpt)),(0,r.createElement)(s.CardFooter,null,"popper"===u.slug?(0,r.createElement)(s.Button,{onClick:()=>{p.record?(p.edit({status:"active"}),p.save()):f("root","plugin",{slug:"popper",status:"active"})},variant:"primary",size:"small",isBusy:p.isResolving||g,disabled:p.isResolving||"active"===p.editedRecord.status||g,"aria-disabled":p.isResolving},"active"===p.editedRecord.status?(0,i.__)("Is Active"):(0,i.__)("Activate")):(0,r.createElement)(s.ToggleControl,{checked:t?.enabled_addons?.includes(u.slug)||!1,onChange:e=>((e,n)=>{if(!v.record||"active"!==v.record.status)return m(!0);if(e)a("enabled_addons",[...t.enabled_addons,n]);else{const e=t.enabled_addons.filter((e=>e!==n));a("enabled_addons",e)}})(e,u.slug),__nextHasNoMarginBottom:!0}))),d&&(0,r.createElement)(s.Modal,{onRequestClose:()=>m(!1),__experimentalHideHeader:!0},(0,r.createElement)("p",null,(0,i.sprintf)(/* translators: %s: Addon name */
(0,i.__)("To enable %s addon you need a Formello Pro license.","formello"),u.title)),(0,r.createElement)(s.Button,{variant:"primary",href:"https://formello.net",icon:"download",iconPosition:"right",target:"_blank"},(0,i.__)("Download","formello-pro"))))}function Ll(){const{hasUpdates:e,saveSettings:t}=(0,l.useContext)(vl),n=[{name:"general",title:(0,i.__)("All","formello")},{name:"integrations",title:(0,i.__)("Integrations","formello")},{name:"utility",title:(0,i.__)("Utility","formello")},{name:"free",title:(0,i.__)("Free","formello")}],[a,o]=(0,l.useState)("general"),{params:u}=(0,s.__experimentalUseNavigator)(),d=u.tab||"general",{records:m,hasResolved:f}=(0,c.useEntityRecords)("formello/v1","addons",{per_page:100});return f?(0,r.createElement)(l.Fragment,null,(0,r.createElement)(Za,{title:(0,i.__)("Addons","formello")}),(0,r.createElement)("div",{className:"setting-tabs"},e&&(0,r.createElement)(s.Notice,{status:"warning",isDismissible:!1,actions:[{label:"Save",variant:"primary",onClick:()=>t().then((()=>window.location.reload()))}]},(0,r.createElement)("p",null,(0,i.__)("To make effective your choice, you must save it.","formello"))),(0,r.createElement)(s.TabPanel,{tabs:n,onSelect:e=>o(e),initialTabName:d},(()=>(0,r.createElement)(l.Fragment,null,(0,r.createElement)(s.__experimentalGrid,{columns:3},m.filter((e=>(e=>"general"===a?m:e.category===a)(e))).map((e=>(0,r.createElement)(Fl,{addon:e,key:e.slug}))))))))):(0,r.createElement)(Sl,{text:(0,i.__)("Loading addons","formello")})}(0,o.dispatch)("core").addEntities([{label:(0,i.__)("Formello submissions","formello"),kind:"formello/v1",name:"submissions",baseURL:"/formello/v1/submissions",supportsPagination:!0},{label:(0,i.__)("Formello addons","formello"),kind:"formello/v1",name:"addons",baseURL:"/formello/v1/addons"},{label:(0,i.__)("Formello columns","formello"),kind:"formello/v1",name:"columns",baseURL:"/formello/v1/columns"}]);const Rl=()=>{const e=M(),{params:t}=P(),n=document.querySelector("#toplevel_page_formello"),a=()=>{const e=(0,m.getQueryArg)(window.location.href,"page");if(e)for(const t of n.querySelectorAll("a"))e===(0,m.getQueryArg)(t.href,"page")?(t.classList.add("current"),t.parentElement.classList.add("current")):(t.classList.remove("current"),t.parentElement.classList.remove("current"))},o=t=>{t.preventDefault(),e.push({page:(0,m.getQueryArg)(t.target.href,"page")}),a()};return(0,l.useEffect)((()=>(a(),n.addEventListener("click",o,!1),()=>{document.querySelector("#toplevel_page_popper").removeEventListener("click",o)})),[]),"formello-settings"===t.page?(0,r.createElement)(xl,null):"formello-tools"===t.page?(0,r.createElement)(Nl,null):"formello-addons"===t.page?(0,r.createElement)(Ll,null):"formello"===t.page&&"submission"===t.section&&t.submission_id?(0,r.createElement)(ul,null):"formello"===t.page&&"submissions"===t.section&&t.form_id?(0,r.createElement)(il,null):(0,r.createElement)(Ja,null)},Tl=()=>(0,r.createElement)(N,null,(0,r.createElement)(gl,null,(0,r.createElement)(Rl,null)));window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("formello-admin");(0,l.createRoot)(e).render((0,r.createElement)(Tl,null))}))},184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===l)if(n.toString===Object.prototype.toString)for(var i in n)r.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},251:function(e,t,n){"use strict";var r=n(196),a=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,r)&&!i.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}},893:function(e,t,n){"use strict";e.exports=n(251)},826:function(e){var t={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ả":"A","Ạ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ẻ":"E","Ẽ":"E","Ẹ":"E","Ể":"E","Ễ":"E","Ệ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ỉ":"I","Ị":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ỏ":"O","Ọ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ớ":"O","Ợ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ủ":"U","Ụ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ả":"a","ạ":"a","ẩ":"a","ẫ":"a","ậ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ẻ":"e","ẽ":"e","ẹ":"e","ể":"e","ễ":"e","ệ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ỉ":"i","ị":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ỏ":"o","ọ":"o","ổ":"o","ỗ":"o","ộ":"o","ờ":"o","ở":"o","ỡ":"o","ớ":"o","ợ":"o","ù":"u","ú":"u","û":"u","ü":"u","ủ":"u","ụ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z","й":"и","Й":"И","ё":"е","Ё":"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),a=new RegExp(n,"");function l(e){return t[e]}var o=function(e){return e.replace(r,l)};e.exports=o,e.exports.has=function(e){return!!e.match(a)},e.exports.remove=o},250:function(e,t,n){"use strict";var r=n(196),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,o=r.useEffect,i=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=l({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return i((function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,n,t]),o((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},688:function(e,t,n){"use strict";e.exports=n(250)},934:function(e,t,n){"use strict";e.exports=n.p+"images/autosuggest.094e497e.png"},549:function(e,t,n){"use strict";e.exports=n.p+"images/calculator.f4991bf7.png"},510:function(e,t,n){"use strict";e.exports=n.p+"images/conditional-fields.7d7e653a.png"},943:function(e,t,n){"use strict";e.exports=n.p+"images/convertkit.7775f08d.png"},47:function(e,t,n){"use strict";e.exports=n.p+"images/exporter.666fee83.png"},687:function(e,t,n){"use strict";e.exports=n.p+"images/file-upload.91b58ae6.png"},811:function(e,t,n){"use strict";e.exports=n.p+"images/frontend-posting.a6f39817.png"},999:function(e,t,n){"use strict";e.exports=n.p+"images/getresponse.d51c0d3c.png"},587:function(e,t,n){"use strict";e.exports=n.p+"images/inserter.373d5310.png"},648:function(e,t,n){"use strict";e.exports=n.p+"images/login.5a33fb2f.png"},345:function(e,t,n){"use strict";e.exports=n.p+"images/mailchimp.fc0cc410.png"},164:function(e,t,n){"use strict";e.exports=n.p+"images/mailerlite.d580682c.png"},684:function(e,t,n){"use strict";e.exports=n.p+"images/mailpoet.62a9acfa.png"},589:function(e,t,n){"use strict";e.exports=n.p+"images/moosend.aa91b998.png"},107:function(e,t,n){"use strict";e.exports=n.p+"images/popper.cee57018.png"},551:function(e,t,n){"use strict";e.exports=n.p+"images/sendinblue.08d7106f.png"},897:function(e,t,n){"use strict";e.exports=n.p+"images/templates.6c640262.png"},507:function(e,t,n){"use strict";e.exports=n.p+"images/web-hooks.2165e998.png"},196:function(e){"use strict";e.exports=window.React}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e](n,n.exports,l),n.exports}l.m=r,e=[],l.O=function(t,n,r,a){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||o>=a)&&Object.keys(l.O).every((function(e){return l.O[e](n[s])}))?n.splice(s--,1):(i=!1,a<o&&(o=a));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);l.r(a);var o={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(t){o[t]=function(){return e[t]}}));return o.default=function(){return e},l.d(a,o),a},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e}(),function(){var e={328:0,72:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,o=n[0],i=n[1],s=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(s)var u=s(l)}for(t&&t(n);c<o.length;c++)a=o[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},n=self.webpackChunkformello=self.webpackChunkformello||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=l.O(void 0,[72],(function(){return l(308)}));o=l.O(o)}();