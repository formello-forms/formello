(()=>{"use strict";const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.components,l=window.wp.blockEditor,n=window.wp.element,a=window.ReactJSXRuntime,r=e=>e.options.map(((l,n)=>(0,a.jsxs)(t.Flex,{justify:"flex-start",className:"formello-fields-row",children:[(0,a.jsx)(t.FlexItem,{children:(0,a.jsx)(t.CheckboxControl,{checked:l.selected,onChange:o=>e.onChange(o,n,"selected")})}),e.showValue&&(0,a.jsx)(t.FlexItem,{children:(0,a.jsx)(t.TextControl,{placeholder:(0,o.__)("Value","formello"),value:l.value,onChange:o=>e.onChange(o,n,"value")})}),(0,a.jsx)(t.FlexItem,{children:(0,a.jsx)(t.TextControl,{placeholder:(0,o.__)("Label","formello"),value:l.label,onChange:o=>e.onChange(o,n,"label")})}),(0,a.jsx)(t.FlexItem,{children:(0,a.jsx)(t.Button,{isSmall:!0,icon:"no",iconSize:16,onClick:()=>e.delete(l,n)})})]},n)));function s(e){const{onRequestClose:l,attributes:s,setAttributes:i}=e,[c,h]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1);return(0,a.jsxs)(t.Modal,{title:(0,o.__)("Options","formello"),onRequestClose:l,className:"formello-modal",shouldCloseOnClickOutside:!1,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.ToggleControl,{label:(0,o.__)("Bulk add","formello"),checked:c,onChange:e=>h(e)}),c&&(0,a.jsx)(t.TextareaControl,{label:(0,o.__)("Options","formello"),help:(0,o.__)("Enter one option per row separated by comma. Ex.: [US, United States Of America]","formello"),placeholder:(0,o.__)("Insert value and label separated by comma. Ex.: US, United States Of America","formello"),defaultValue:s.options.map((e=>e.value+","+e.label)).join("\r\n"),onChange:e=>(e=>{const o=e.match(/[^\r\n]+/g),t=[];for(const e in o){const l=o[e].split(",");t.push({value:l[0],label:l[1]?l[1]:l[0]})}i({options:t})})(e),rows:"6"}),!c&&(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(t.ToggleControl,{label:(0,o.__)("Show value","formello"),checked:u,onChange:e=>m(e)}),(0,a.jsx)(r,{delete:(e,o)=>{const t=[...s.options];t.splice(o,1),i({options:t})},onChange:(e,o,t)=>{const l=[...s.options],n={...s.options[o]};n[t]=e,l[o]=n,i({options:l})},options:s.options,showValue:u}),(0,a.jsx)(t.Button,{isPrimary:!0,isSmall:!0,onClick:()=>{i({options:[...s.options,{label:"",value:""}]})},children:"Add option"})]})]}),(0,a.jsx)("div",{className:"formello-modal-buttons",children:(0,a.jsx)(t.Button,{isPrimary:!0,onClick:l,children:"Save"})})]})}const i=window.React;var c,h,u,m,d;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},p.apply(null,arguments)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},v.apply(null,arguments)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var l in t)({}).hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},f.apply(null,arguments)}const b=[{name:"checkboxes",title:(0,o.__)("Multiple choices (Checkboxes)"),description:(0,o.__)("Offer users a list of choices, and allow them to select multiple option.","formello-pro"),icon:function(e){return i.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:24,height:24,viewBox:"0 0 300.396 300.396"},e),c||(c=i.createElement("path",{d:"M64.048 216.749H4.076a3 3 0 0 0-3 3v59.973a3 3 0 0 0 3 3h59.972a3 3 0 0 0 3-3v-59.973c0-1.656-1.344-3-3-3zM64.048 17.675H4.076A4.075 4.075 0 0 0 0 21.749v59.973a4.076 4.076 0 0 0 4.076 4.076h59.972a4.075 4.075 0 0 0 4.075-4.076V21.749a4.074 4.074 0 0 0-4.075-4.074zm-44.91 48.986V36.809h29.849v29.852H19.138zM64.048 116.675H4.076A4.075 4.075 0 0 0 0 120.749v59.973a4.076 4.076 0 0 0 4.076 4.076h59.972a4.075 4.075 0 0 0 4.075-4.076v-59.973a4.074 4.074 0 0 0-4.075-4.074zm-44.91 48.986v-29.852h29.849v29.852H19.138zM297.396 231.036h-186.67a3 3 0 0 0-3 3v31.4a3 3 0 0 0 3 3h186.67c1.656 0 3-1.344 3-3v-31.4a3 3 0 0 0-3-3zM110.729 169.438h186.667a3 3 0 0 0 3-3v-31.406c0-1.656-1.344-3-3-3H110.729a3 3 0 0 0-3 3v31.406c0 1.659 1.342 3 3 3zM110.729 70.438h186.667a3 3 0 0 0 3-3V36.032c0-1.656-1.344-3-3-3H110.729a3 3 0 0 0-3 3v31.406c0 1.659 1.342 3 3 3z"})))},attributes:{type:"checkbox"},scope:["inserter","block","transform"],isDefault:!0},{name:"radios",title:(0,o.__)("Single choice (Radio buttons)"),description:(0,o.__)("Offer users a list of choices, and allow them to select a single option.","formello-pro"),icon:function(e){return i.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),m||(m=i.createElement("path",{d:"M9 4h13v1H9zm0 17h13v-1H9zm0-8h13v-1H9zM7 4a3 3 0 1 1-3-3 3 3 0 0 1 3 3zM6 4a2 2 0 1 0-2 2 2.003 2.003 0 0 0 2-2zm1 8a3 3 0 1 1-3-3 3 3 0 0 1 3 3zm-1 0a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm1 8a3 3 0 1 1-3-3 3 3 0 0 1 3 3zm-1 0a2 2 0 1 0-2 2 2.003 2.003 0 0 0 2-2zm-2-9a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"})),d||(d=i.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))},attributes:{type:"radio"},scope:["inserter","block","transform"]}];b.forEach((e=>{e.isActive=(e,o)=>e.type===o.type}));const x=b,g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"formello/multichoices","title":"Multi choices","category":"formello","ancestor":["formello/form"],"textdomain":"formello","attributes":{"name":{"type":"string","default":"my_choice","__experimentalRole":"content"},"type":{"enum":["radio","checkbox"],"default":"checkbox"},"required":{"type":"boolean"},"options":{"type":"array","source":"query","selector":"div.formello-checkbox","query":{"value":{"type":"string","selector":"input","source":"attribute","attribute":"value"},"label":{"type":"string","selector":"label","source":"html"},"selected":{"type":"boolean","selector":"input","source":"attribute","attribute":"checked"}},"default":[{"value":"1","label":"One"},{"value":"2","label":"Two"},{"value":"3","label":"Three"}]}},"supports":{"anchor":true,"html":false,"color":true,"spacing":true,"inserter":true,"__experimentalBorder":true,"layout":{"allowSwitching":true,"allowInheriting":false,"allowSizingOnChildren":false,"default":{"type":"flex","justifyContent":"stretch","orientation":"vertical","flexWrap":"nowrap"}}},"editorScript":"file:./index.js"}');(0,e.registerBlockType)(g,{variations:x,icon:function(e){return i.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:80,height:80,viewBox:"0 0 24 24"},e),h||(h=i.createElement("path",{d:"M2 20h1v1H1v-2h1zm20 0h-1v1h2v-2h-1zM1 5h1V4h1V3H1zm1 2H1v2h1zm0 4H1v2h1zm20-2h1V7h-1zm0 4h1v-2h-1zM2 15H1v2h1zm20 2h1v-2h-1zM5 4h2V3H5zm6 0V3H9v1zm2 0h2V3h-2zm6-1h-2v1h2zM5 21h2v-1H5zm4 0h2v-1H9zm4 0h2v-1h-2zm4 0h2v-1h-2zm4-17h1v1h1V3h-2zm-1 4v2a1.001 1.001 0 0 1-1 1H5a1.001 1.001 0 0 1-1-1V8a1.001 1.001 0 0 1 1-1h14a1.001 1.001 0 0 1 1 1zm-.999 2H19V8H5v2h14m1 4v2a1.001 1.001 0 0 1-1 1H5a1.001 1.001 0 0 1-1-1v-2a1.001 1.001 0 0 1 1-1h14a1.001 1.001 0 0 1 1 1zm-.999 2H19v-2H5v2h14"})),u||(u=i.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))},edit:function(e){const r=(0,l.useBlockProps)(),[i,c]=(0,n.useState)(!1),{attributes:h,setAttributes:u}=e,{name:m,required:d,options:p,type:v}=h,{children:f,...b}=(0,l.useInnerBlocksProps)(r,{allowedBlocks:!1,templateLock:!1});return(0,a.jsxs)("div",{...b,children:[(0,a.jsxs)(l.InspectorControls,{children:[(0,a.jsx)(l.BlockControls,{children:(0,a.jsx)(t.ToolbarGroup,{children:(0,a.jsx)(t.ToolbarButton,{label:(0,o.__)("Edit options","formello"),icon:"editor-ul",onClick:()=>{c(!0)}})})}),(0,a.jsxs)(t.PanelBody,{title:(0,o.__)("Options","formello"),initialOpen:!0,children:[(0,a.jsx)(t.TextControl,{label:(0,o.__)("Name","formello"),value:m,onChange:e=>u({name:e}),help:(0,o.__)('Affects the "name" attribute of the input element, and is used as a name for the form submission results.',"formello")}),(0,a.jsx)(t.ToggleControl,{label:(0,o.__)("Required","formello"),checked:d,onChange:()=>u({required:!d})}),(0,a.jsx)(t.Button,{variant:"primary",onClick:()=>{c(!0)},children:(0,o.__)("Manage Options","formello")})]})]}),i&&(0,a.jsx)(s,{...e,onRequestClose:()=>{c(!1)}}),p.map(((e,o)=>{const t=m+"-"+o;return(0,a.jsxs)("div",{className:"formello formello-checkbox",children:[(0,a.jsx)("label",{htmlFor:t,children:e.label}),(0,a.jsx)("input",{value:e.value||e.label,name:m,type:v,required:d,checked:e.selected,onChange:()=>console.log("change"),id:t})]},o)}))]})},save:function({attributes:e,className:o}){const{name:t,options:n,type:r,required:s}=e,i=l.useBlockProps.save({className:o});return(0,a.jsx)("div",{...i,children:n.map(((e,o)=>{const l=t+"-"+o;return(0,a.jsxs)("div",{className:"formello formello-checkbox",children:[(0,a.jsx)("label",{htmlFor:l,children:e.label}),(0,a.jsx)("input",{value:e.value||e.label,name:"checkbox"===r?t+"[]":t,checked:e.selected,type:r,required:s,id:l})]},o)}))})}})})();