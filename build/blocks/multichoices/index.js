!function(){"use strict";var e,t,l,o,a,n=window.wp.blocks,r=window.React,c=window.wp.i18n,i=window.wp.components,s=window.wp.blockEditor,m=window.wp.element,h=e=>e.options.map(((t,l)=>(0,r.createElement)(i.Flex,{key:l,justify:"flex-start",className:"formello-fields-row"},(0,r.createElement)(i.FlexItem,null,(0,r.createElement)(i.CheckboxControl,{checked:t.selected,onChange:t=>e.onChange(t,l,"selected")})),e.showValue&&(0,r.createElement)(i.FlexItem,null,(0,r.createElement)(i.TextControl,{placeholder:(0,c.__)("Value","formello"),value:t.value,onChange:t=>e.onChange(t,l,"value")})),(0,r.createElement)(i.FlexItem,null,(0,r.createElement)(i.TextControl,{placeholder:(0,c.__)("Label","formello"),value:t.label,onChange:t=>e.onChange(t,l,"label")})),(0,r.createElement)(i.FlexItem,null,(0,r.createElement)(i.Button,{isSmall:!0,icon:"no",iconSize:16,onClick:()=>e.delete(t,l)})))));function u(e){const{onRequestClose:t,attributes:l,setAttributes:o}=e,[a,n]=(0,m.useState)(!1),[s,u]=(0,m.useState)(!1);return(0,r.createElement)(i.Modal,{title:(0,c.__)("Options","formello"),onRequestClose:t,className:"formello-modal",shouldCloseOnClickOutside:!1},(0,r.createElement)("div",null,(0,r.createElement)(i.ToggleControl,{label:(0,c.__)("Bulk add","formello"),checked:a,onChange:e=>n(e)}),a&&(0,r.createElement)(i.TextareaControl,{label:(0,c.__)("Options","formello"),help:(0,c.__)("Enter one option per row separated by comma. Ex.: [US, United States Of America]","formello"),placeholder:(0,c.__)("Insert value and label separated by comma. Ex.: US, United States Of America","formello"),defaultValue:l.options.map((e=>e.value+","+e.label)).join("\r\n"),onChange:e=>(e=>{const t=e.match(/[^\r\n]+/g),l=[];for(const e in t){const o=t[e].split(",");l.push({value:o[0],label:o[1]?o[1]:o[0]})}o({options:l})})(e),rows:"6"}),!a&&(0,r.createElement)(m.Fragment,null,(0,r.createElement)(i.ToggleControl,{label:(0,c.__)("Show value","formello"),checked:s,onChange:e=>u(e)}),(0,r.createElement)(h,{delete:(e,t)=>{const a=[...l.options];a.splice(t,1),o({options:a})},onChange:(e,t,a)=>{const n=[...l.options],r={...l.options[t]};r[a]=e,n[t]=r,o({options:n})},options:l.options,showValue:s}),(0,r.createElement)(i.Button,{isPrimary:!0,isSmall:!0,onClick:()=>{o({options:[...l.options,{label:"",value:""}]})}},"Add option"))),(0,r.createElement)("div",{className:"formello-modal-buttons"},(0,r.createElement)(i.Button,{isPrimary:!0,onClick:t},"Save")))}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},p.apply(this,arguments)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},v.apply(this,arguments)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},d.apply(this,arguments)}const f=[{name:"checkboxes",title:(0,c.__)("Multiple choices (Checkboxes)"),description:(0,c.__)("Offer users a list of choices, and allow them to select multiple option.","formello-pro"),icon:function(t){return r.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:800,height:800,viewBox:"0 0 300.396 300.396"},t),e||(e=r.createElement("path",{d:"M64.048 216.749H4.076a3 3 0 0 0-3 3v59.973a3 3 0 0 0 3 3h59.972a3 3 0 0 0 3-3v-59.973c0-1.656-1.344-3-3-3zM64.048 17.675H4.076A4.075 4.075 0 0 0 0 21.749v59.973a4.076 4.076 0 0 0 4.076 4.076h59.972a4.075 4.075 0 0 0 4.075-4.076V21.749a4.074 4.074 0 0 0-4.075-4.074zm-44.91 48.986V36.809h29.849v29.852H19.138zM64.048 116.675H4.076A4.075 4.075 0 0 0 0 120.749v59.973a4.076 4.076 0 0 0 4.076 4.076h59.972a4.075 4.075 0 0 0 4.075-4.076v-59.973a4.074 4.074 0 0 0-4.075-4.074zm-44.91 48.986v-29.852h29.849v29.852H19.138zM297.396 231.036h-186.67a3 3 0 0 0-3 3v31.4a3 3 0 0 0 3 3h186.67c1.656 0 3-1.344 3-3v-31.4a3 3 0 0 0-3-3zM110.729 169.438h186.667a3 3 0 0 0 3-3v-31.406c0-1.656-1.344-3-3-3H110.729a3 3 0 0 0-3 3v31.406c0 1.659 1.342 3 3 3zM110.729 70.438h186.667a3 3 0 0 0 3-3V36.032c0-1.656-1.344-3-3-3H110.729a3 3 0 0 0-3 3v31.406c0 1.659 1.342 3 3 3z"})))},attributes:{type:"checkbox"},scope:["inserter","block","transform"],isDefault:!0},{name:"radios",title:(0,c.__)("Single choice (Radio)"),description:(0,c.__)("Offer users a list of choices, and allow them to select a single option.","formello-pro"),icon:function(e){return r.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 24 24"},e),o||(o=r.createElement("path",{d:"M9 4h13v1H9zm0 17h13v-1H9zm0-8h13v-1H9zM7 4a3 3 0 1 1-3-3 3 3 0 0 1 3 3zM6 4a2 2 0 1 0-2 2 2.003 2.003 0 0 0 2-2zm1 8a3 3 0 1 1-3-3 3 3 0 0 1 3 3zm-1 0a2 2 0 1 0-2 2 2 2 0 0 0 2-2zm1 8a3 3 0 1 1-3-3 3 3 0 0 1 3 3zm-1 0a2 2 0 1 0-2 2 2.003 2.003 0 0 0 2-2zm-2-9a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"})),a||(a=r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))},attributes:{type:"radio"},scope:["inserter","block","transform"]}];f.forEach((e=>{e.isActive=(e,t)=>e.type===t.type}));var b=f,g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"formello/multichoices","title":"Multi choices","category":"formello","ancestor":["formello/form"],"textdomain":"formello","attributes":{"name":{"type":"string","default":"my_choice","__experimentalRole":"content"},"type":{"enum":["radio","checkbox"],"default":"checkbox"},"required":{"type":"boolean"},"options":{"type":"array","source":"query","selector":"div.formello-checkbox","query":{"value":{"type":"string","selector":"input","source":"attribute","attribute":"value"},"label":{"type":"string","selector":"label","source":"html"},"selected":{"type":"boolean","selector":"input","source":"attribute","attribute":"checked"}},"default":[{"value":"1","label":"One"},{"value":"2","label":"Two"},{"value":"3","label":"Three"}]}},"supports":{"anchor":true,"html":false,"color":true,"spacing":true,"inserter":true,"__experimentalBorder":true,"layout":{"allowSwitching":true,"allowInheriting":false,"allowSizingOnChildren":false,"default":{"type":"flex","justifyContent":"stretch","orientation":"vertical","flexWrap":"nowrap"}}},"editorScript":"file:./index.js"}');(0,n.registerBlockType)(g,{variations:b,icon:function(e){return r.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 24 24"},e),t||(t=r.createElement("path",{d:"M2 20h1v1H1v-2h1zm20 0h-1v1h2v-2h-1zM1 5h1V4h1V3H1zm1 2H1v2h1zm0 4H1v2h1zm20-2h1V7h-1zm0 4h1v-2h-1zM2 15H1v2h1zm20 2h1v-2h-1zM5 4h2V3H5zm6 0V3H9v1zm2 0h2V3h-2zm6-1h-2v1h2zM5 21h2v-1H5zm4 0h2v-1H9zm4 0h2v-1h-2zm4 0h2v-1h-2zm4-17h1v1h1V3h-2zm-1 4v2a1.001 1.001 0 0 1-1 1H5a1.001 1.001 0 0 1-1-1V8a1.001 1.001 0 0 1 1-1h14a1.001 1.001 0 0 1 1 1zm-.999 2H19V8H5v2h14m1 4v2a1.001 1.001 0 0 1-1 1H5a1.001 1.001 0 0 1-1-1v-2a1.001 1.001 0 0 1 1-1h14a1.001 1.001 0 0 1 1 1zm-.999 2H19v-2H5v2h14"})),l||(l=r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))},edit:function(e){const t=(0,s.useBlockProps)(),[l,o]=(0,m.useState)(!1),{attributes:a,setAttributes:n}=e,{name:h,required:p,options:v,type:d}=a,{children:f,...b}=(0,s.useInnerBlocksProps)(t,{allowedBlocks:!1,templateLock:!1});return(0,r.createElement)("div",{...b},(0,r.createElement)(s.InspectorControls,null,(0,r.createElement)(s.BlockControls,null,(0,r.createElement)(i.ToolbarGroup,null,(0,r.createElement)(i.ToolbarButton,{label:(0,c.__)("Add options","formello"),icon:"editor-ul",onClick:()=>{o(!0)}}))),(0,r.createElement)(i.PanelBody,{title:(0,c.__)("Options","formello"),initialOpen:!0},(0,r.createElement)(i.TextControl,{label:(0,c.__)("Name","formello"),value:h,onChange:e=>n({name:e})}),(0,r.createElement)(i.ToggleControl,{label:(0,c.__)("Required","formello"),checked:p,onChange:()=>n({required:!p})}),(0,r.createElement)(i.Button,{variant:"primary",onClick:()=>{o(!0)}},(0,c.__)("Manage Options","formello")))),l&&(0,r.createElement)(u,{...e,onRequestClose:()=>{o(!1)}}),v.map(((e,t)=>(0,r.createElement)("div",{key:t,className:"formello formello-checkbox"},(0,r.createElement)("label",null,e.label),(0,r.createElement)("input",{value:e.value||e.label,name:h,type:d,required:p,checked:e.selected,onChange:()=>console.log("change")})))))},save:function({attributes:e,className:t}){const{name:l,options:o,type:a,required:n}=e,c=s.useBlockProps.save({className:t});return(0,r.createElement)("div",{...c},o.map(((e,t)=>{const o=l+"-"+t;return(0,r.createElement)("div",{key:t,className:"formello formello-checkbox"},(0,r.createElement)("label",{htmlFor:o},e.label),(0,r.createElement)("input",{value:e.value||e.label,name:"checkbox"===a?l+"[]":l,checked:e.selected,type:a,required:n,id:o}))})))}})}();